if (self.CavalryLogger) { CavalryLogger.start_js(["Km6EG"]); }

__d("ProfileWizardProfilePictureManager",["Arbiter","TimelineProfilePicConfig","tidyEvent"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){this.$1=!1,this.$2=!1}var c=a.prototype;c.informProfilePictureUploaded=function(a){b("Arbiter").inform("profileChanged",a)};c.isOpen=function(){return this.$1};c.hasProfileChanged=function(){return this.$2};c.setIsOpen=function(a){this.$1=a};c.subscribeOnceProfilePictureUploaded=function(a){b("tidyEvent")([b("Arbiter").subscribeOnce("profileChanged",a),b("Arbiter").subscribeOnce(b("TimelineProfilePicConfig").success,a)])};return a}();e.exports=new a()}),null);
__d("XProfilePicCropAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/profile/picture/crop_profile_pic/",{photo_id:{type:"Int",required:!0},profile_id:{type:"Int",required:!0},height:{type:"Float",required:!0},width:{type:"Float",required:!0},x:{type:"Float",required:!0},y:{type:"Float",required:!0},source:{type:"Enum",defaultValue:"timeline",enumType:1},method:{type:"Enum",defaultValue:"existing",enumType:1},redirect_uri:{type:"String"},sticker_id:{type:"Int"},expiration_duration:{type:"Int"},caption:{type:"String"},overlay_source_object_id:{type:"FBID"},payment_id:{type:"FBID"},set_profile_photo_shield:{type:"String"},sessionid:{type:"String"}})}),null);
__d("XProfilePicMakeAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/profile/picture/make_profile_pic/",{end_x:{type:"Float"},end_y:{type:"Float"},photo_id:{type:"Int",required:!0},profile_id:{type:"Int",required:!0},source:{type:"Enum",defaultValue:"timeline",enumType:1},start_x:{type:"Float"},start_y:{type:"Float"},method:{type:"Enum",defaultValue:"existing",enumType:1},expiration_duration:{type:"Int"},caption:{type:"String"},sticker_source_object_id:{type:"Int"}})}),null);
__d("XProfilePicSaver",["ArbiterMixin","AsyncRequest","AsyncUploadRequest","ProfilePictureFlowLogging","XProfilePicCropAsyncController","XProfilePicMakeAsyncController","mixin","tidyEvent"],(function(a,b,c,d,e,f){__p&&__p();var g=b("ProfilePictureFlowLogging").step;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d,e,f){var g;f===void 0&&(f=b("XProfilePicCropAsyncController").getURIBuilder());g=a.call(this)||this;g.$XProfilePicSaver1=c;g.$XProfilePicSaver2=d;g.$XProfilePicSaver3=e;g.$XProfilePicSaver10=f;return g}var d=c.prototype;d.setProfilePhotoSource=function(a){this.$XProfilePicSaver4=a;return this};d.setProfilePhotoMethod=function(a){this.$XProfilePicSaver5=a;return this};d.setFlowType=function(a){this.$XProfilePicSaver6=a;return this};d.setProfilePhotoShield=function(a){a&&(this.$XProfilePicSaver8="true");return this};d.setSessionID=function(a){this.$XProfilePicSaver9=a;return this};d.saveCroppedProfilePic=function(a,b,c,d,e){a=this.$XProfilePicSaver10.setFloat("x",a.x).setFloat("y",a.y).setFloat("width",Math.min(a.width,1)).setFloat("height",Math.min(a.height,1));b&&a.setInt("sticker_id",b.id);e&&a.setFBID("payment_id",e);this.$XProfilePicSaver8&&a.setString("set_profile_photo_shield",this.$XProfilePicSaver8);this.$XProfilePicSaver9&&a.setString("sessionid",this.$XProfilePicSaver9);this.$XProfilePicSaver7=!0;this.$XProfilePicSaver11(a,b,c,d);this.$XProfilePicSaver12(g.CROP_SAVING)};d.saveAsProfilePic=function(){this.$XProfilePicSaver13()};d.saveAsProfilePicWithPosition=function(a,b){this.$XProfilePicSaver13(a,b)};d.$XProfilePicSaver13=function(a,c){this.$XProfilePicSaver7=!1;var d=b("XProfilePicMakeAsyncController").getURIBuilder();a&&d.setFloat("start_x",100*a.startX).setFloat("start_y",100*a.startY).setFloat("end_x",100*a.endX).setFloat("end_y",100*a.endY);this.$XProfilePicSaver11(d,null,c);this.$XProfilePicSaver12(g.PREVIOUS_PIC_SAVING)};d.$XProfilePicSaver14=function(a){this.inform("error",a),this.$XProfilePicSaver12(this.$XProfilePicSaver7?g.CROP_FAIL:g.PREVIOUS_PIC_FAIL)};d.$XProfilePicSaver12=function(a){this.$XProfilePicSaver6&&b("ProfilePictureFlowLogging").setFlowType(this.$XProfilePicSaver6),b("ProfilePictureFlowLogging").log(a)};d.$XProfilePicSaver11=function(a,c,d,e){__p&&__p();var f=this;a.setInt("photo_id",this.$XProfilePicSaver1).setInt("profile_id",this.$XProfilePicSaver2).setEnum("source",this.$XProfilePicSaver4||"photo_view").setInt("expiration_duration",this.$XProfilePicSaver3);this.$XProfilePicSaver5&&a.setEnum("method",this.$XProfilePicSaver5);d&&a.setString("caption",d);e&&a.setFBID("overlay_source_object_id",e);c&&c.canvas?c.canvas.toBlob(function(c){c=new(b("AsyncUploadRequest"))().setFiles({farr:c}).setAllowCrossOrigin(!0).setURI(a.getURI());b("tidyEvent")([c.subscribe("success",f.$XProfilePicSaver15.bind(f)),c.subscribe("failure",f.$XProfilePicSaver16.bind(f))]);c.send()}):new(b("AsyncRequest"))(a.getURI()).setErrorHandler(this.$XProfilePicSaver14.bind(this)).setHandler(this.$XProfilePicSaver17.bind(this)).send();this.$XProfilePicSaver12(g.LOADING)};d.$XProfilePicSaver15=function(a,b){this.$XProfilePicSaver17(b.getResponse())};d.$XProfilePicSaver16=function(a,b){this.$XProfilePicSaver14(b.getResponse())};d.$XProfilePicSaver17=function(a){this.inform("success",a),this.$XProfilePicSaver12(this.$XProfilePicSaver7?g.CROP_SUCCESS:g.PREVIOUS_PIC_SUCCESS),this.$XProfilePicSaver12(g.SUCCESS)};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a}),null);
__d("AdminToDosUtils",["ActorURI","AsyncRequest","PagesCreationTypedLogger","XPagesAdminToDosSaveCurrentStepAsyncController","XPagesCoverPhotoSaveAsyncController","XProfilePicSaver"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={uploadProfilePictureAndRedirect:function(a,c,d){a=new(b("XProfilePicSaver"))(a,c);a.saveAsProfilePic();g.logEvent("pages_creation_click","admin_to_dos","add_profile_picture",null,c);new(b("AsyncRequest"))().setURI(b("XPagesAdminToDosSaveCurrentStepAsyncController").getURIBuilder().setFBID("page_id",c).setEnum("step",d).setEnum("event","profile_picture_upload_button_click").getURI()).setMethod("POST").send()},uploadCoverPhotoAndRedirect:function(a,c,d){new(b("AsyncRequest"))().setURI(b("ActorURI").create(b("XPagesCoverPhotoSaveAsyncController").getURIBuilder().setFBID("page_id",c).setFBID("photo_id",a).setFloat("focus_x",0).setFloat("focus_y",0).getURI(),c)).send(),g.logEvent("pages_creation_click","admin_to_dos","add_cover_photo","success",c),new(b("AsyncRequest"))().setURI(b("XPagesAdminToDosSaveCurrentStepAsyncController").getURIBuilder().setFBID("page_id",c).setEnum("step",d).setEnum("event","cover_photo_upload_button_click").getURI()).setMethod("POST").send()},appointmentSetupAndRedirect:function(a){g.logEvent("pages_creation_click","admin_to_dos","setup_appointments",null,a),new(b("AsyncRequest"))().setURI(b("XPagesAdminToDosSaveCurrentStepAsyncController").getURIBuilder().setFBID("page_id",a).setEnum("step","appointment_setup").setEnum("event","appointment_setup_button_click").getURI()).setMethod("POST").send()},logEvent:function(a,c,d,e,f){new(b("PagesCreationTypedLogger"))().setEvent(a).setEventRef(c).setEventTarget(d).setEventResult(e).setPageID(f).log()}};e.exports=g}),null);
__d("DialogNumberedFlow",["Arbiter","DialogX","Event","SubscriptionsHandler","tidyEvent"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,g){__p&&__p();var h;h=a.call(this)||this;h.$DialogNumberedFlow1=c;h.$DialogNumberedFlow2=d;h.$DialogNumberedFlow3=e;h.$DialogNumberedFlow4=f;h.$DialogNumberedFlow5=g;h.$DialogNumberedFlow6=new(b("SubscriptionsHandler"))();h.$DialogNumberedFlow8();return h}var d=c.prototype;d.show=function(){this.$DialogNumberedFlow1&&this.$DialogNumberedFlow1.show(),this.$DialogNumberedFlow7=0,this.$DialogNumberedFlow9()};d.hide=function(){this.$DialogNumberedFlow5.forEach(function(a){a&&a.cleanup()}),this.$DialogNumberedFlow1&&this.$DialogNumberedFlow1.hide(),this.$DialogNumberedFlow6&&this.$DialogNumberedFlow6.release(),this.inform("hide")};d.goToNextStep=function(){this.$DialogNumberedFlow7++,this.$DialogNumberedFlow7<this.$DialogNumberedFlow5.length?(this.$DialogNumberedFlow5[this.$DialogNumberedFlow7-1].hide(),this.$DialogNumberedFlow5[this.$DialogNumberedFlow7].show()):this.hide()};d.goToPreviousStep=function(){if(this.$DialogNumberedFlow7<=0)return;this.$DialogNumberedFlow7--;this.$DialogNumberedFlow5[this.$DialogNumberedFlow7+1].rewind();this.$DialogNumberedFlow5[this.$DialogNumberedFlow7].revisit()};d.getInnerDialog=function(){return this.$DialogNumberedFlow1};d.$DialogNumberedFlow9=function(){for(var a=0;a<this.$DialogNumberedFlow5.length;a++){var b=this.$DialogNumberedFlow5[a];if(!b)continue;b.initialize(a+1,this.$DialogNumberedFlow3[a],this.$DialogNumberedFlow4[a+1])}this.$DialogNumberedFlow1.updatePosition()};d.$DialogNumberedFlow8=function(){this.$DialogNumberedFlow6.addSubscriptions(b("tidyEvent")(b("Event").listen(this.$DialogNumberedFlow2,"click",function(){this.hide(),b("Arbiter").inform("dnflow/checkup_cancel",null)}.bind(this)))),this.$DialogNumberedFlow6.addSubscriptions(b("Arbiter").subscribe("dnflow/nextButton",function(){this.goToNextStep()}.bind(this)),b("Arbiter").subscribe("dnflow/backButton",function(){this.goToPreviousStep()}.bind(this)))};return c}(b("DialogX"));e.exports=a}),null);
__d("DialogNumberedFlowNextButton",["Arbiter","Banzai","Event","tidyEvent"],(function(a,b,c,d,e,f){a={init:function(a,c,d,e,f,g){g&&a.focus(),b("tidyEvent")(b("Event").listen(a,"click",function(d,e,f){d&&b("Banzai").post("dialog_numbered_flow",{token:d,label:e,extra_data:f},{delay:3e3}),c?b("Arbiter").inform("dnflow/backButton",null):a.getAttribute("href")!=null&&b("Arbiter").inform("dnflow/nextButton",null),b("Arbiter").inform("dnflow/resetFocus",null)}.bind(this,d,e,f)))}};e.exports=a}),null);
__d("DialogNumberedFlowOpenedSection",["ArbiterMixin","mixin"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.$DialogNumberedFlowOpenedSection1=b;d.$DialogNumberedFlowOpenedSection2=c;return d}var c=b.prototype;c.getDiv=function(){return this.$DialogNumberedFlowOpenedSection1};c.onShow=function(){this.inform("show"),this.$DialogNumberedFlowOpenedSection2&&this.$DialogNumberedFlowOpenedSection2.onShow()};c.onHide=function(){this.inform("hide"),this.$DialogNumberedFlowOpenedSection2&&this.$DialogNumberedFlowOpenedSection2.onHide()};c.cleanup=function(){this.$DialogNumberedFlowOpenedSection2&&this.$DialogNumberedFlowOpenedSection2.cleanup()};return b}(b("mixin")(b("ArbiterMixin")));e.exports=a}),null);
__d("DialogNumberedFlowStepBase",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){}var b=a.prototype;b.initialize=function(a,b,c){};b.show=function(){};b.hide=function(){};b.rewind=function(){};b.revisit=function(){};b.cleanup=function(){};return a}();e.exports=a}),null);
__d("DialogNumberedFlowStep",["cx","Animation","CSS","DialogNumberedFlowStepBase","DOM","Ease"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c,d,e){var f;f=a.call(this)||this;f.$DialogNumberedFlowStep1=b;f.$DialogNumberedFlowStep2=c;f.$DialogNumberedFlowStep3=d;f.$DialogNumberedFlowStep4=e;return f}var d=c.prototype;d.revisit=function(){this.$DialogNumberedFlowStep4&&b("CSS").hide(this.$DialogNumberedFlowStep4),this.show()};d.initialize=function(a,c,d){this.$DialogNumberedFlowStep5=a,this.$DialogNumberedFlowStep6=c,this.$DialogNumberedFlowStep7=d,b("CSS").show(this.$DialogNumberedFlowStep1),a>1?(this.$DialogNumberedFlowStep2&&b("CSS").show(this.$DialogNumberedFlowStep2),this.$DialogNumberedFlowStep3&&b("CSS").hide(this.$DialogNumberedFlowStep3.getDiv())):(this.$DialogNumberedFlowStep2&&b("CSS").hide(this.$DialogNumberedFlowStep2),this.$DialogNumberedFlowStep3&&b("CSS").show(this.$DialogNumberedFlowStep3.getDiv()),this.$DialogNumberedFlowStep3&&this.$DialogNumberedFlowStep3.onShow()),this.$DialogNumberedFlowStep4&&b("CSS").hide(this.$DialogNumberedFlowStep4),this.$DialogNumberedFlowStep8(),this.$DialogNumberedFlowStep9(),this.$DialogNumberedFlowStep1.style.backgroundColor="#fff"};d.$DialogNumberedFlowStep8=function(){var a=this.$DialogNumberedFlowStep10(this.$DialogNumberedFlowStep5);b("DOM").prependContent(this.$DialogNumberedFlowStep2,a)};d.$DialogNumberedFlowStep9=function(){if(!this.$DialogNumberedFlowStep3)return;var a=this.$DialogNumberedFlowStep3.getDiv(),c=b("DOM").create("span",{className:"_5s1e _5s1f",role:"heading","aria-level":"3"},this.$DialogNumberedFlowStep6);b("DOM").prependContent(a,c);c=this.$DialogNumberedFlowStep10(this.$DialogNumberedFlowStep5);b("DOM").prependContent(a,c)};d.$DialogNumberedFlowStep10=function(a){return b("DOM").create("span",{className:"_5s1g"},this.$DialogNumberedFlowStep7)};d.show=function(){__p&&__p();if(!this.$DialogNumberedFlowStep3)return;var a=this.$DialogNumberedFlowStep3.getDiv(),c=this.$DialogNumberedFlowStep2;a.style.opacity="0";a.style["float"]="left";b("CSS").show(a);var d=a.clientHeight;new(b("Animation"))(c).to("opacity",0).blind().hide().ease(b("Ease").circInOut).duration(500).go();new(b("Animation"))(this.$DialogNumberedFlowStep1).to("height",d).from("background-color","#f6f7f8").to("background-color","#fff").blind().ease(b("Ease").circInOut).duration(500).go();new(b("Animation"))(a).duration(500).checkpoint().from("opacity",0).to("opacity",1).ease(b("Ease").circInOut).duration(250).ondone(function(){this.$DialogNumberedFlowStep3&&this.$DialogNumberedFlowStep3.onShow()}.bind(this)).go()};d.hide=function(){if(!this.$DialogNumberedFlowStep3)return;var a=this.$DialogNumberedFlowStep3.getDiv(),b=this.$DialogNumberedFlowStep4;this.transform(a,b)};d.rewind=function(){if(!this.$DialogNumberedFlowStep3)return;var a=this.$DialogNumberedFlowStep3.getDiv(),b=this.$DialogNumberedFlowStep2;this.transform(a,b)};d.transform=function(a,c){if(!c)return;c.style.opacity="0";b("CSS").show(c);var d=a.clientHeight,e=c.clientHeight;new(b("Animation"))(a).blind().to("opacity",0).hide().ease(b("Ease").circInOut).duration(250).ondone(function(){this.$DialogNumberedFlowStep3&&this.$DialogNumberedFlowStep3.onHide()}.bind(this)).go();new(b("Animation"))(this.$DialogNumberedFlowStep1).from("height",d).to("height",e).to("background-color","#f6f7f8").blind().ease(b("Ease").circInOut).duration(500).go();new(b("Animation"))(c).duration(500).checkpoint().from("opacity",0).to("opacity",1).ease(b("Ease").circInOut).duration(250).go()};d.cleanup=function(){this.$DialogNumberedFlowStep3&&this.$DialogNumberedFlowStep3.cleanup()};return c}(b("DialogNumberedFlowStepBase"));e.exports=a}),null);
__d("DialogNumberedFlowStepFooter",["Animation","CSS","DialogNumberedFlowStepBase","Ease"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c.$DialogNumberedFlowStepFooter1=b;return c}var d=c.prototype;d.initialize=function(){b("CSS").hide(this.$DialogNumberedFlowStepFooter1),this.$DialogNumberedFlowStepFooter1.style.backgroundColor="#fff"};d.show=function(){var a=this.$DialogNumberedFlowStepFooter1.children[0];a.style.opacity="0";a.style["float"]="right";b("CSS").show(this.$DialogNumberedFlowStepFooter1);b("CSS").show(a);var c=a.clientHeight;new(b("Animation"))(this.$DialogNumberedFlowStepFooter1).from("height",0).to("height",c).blind().ease(b("Ease").circInOut).duration(500).go();new(b("Animation"))(a).duration(500).checkpoint().from("opacity",0).to("opacity",1).ease(b("Ease").circInOut).duration(250).go()};d.hide=function(){};d.rewind=function(){b("CSS").hide(this.$DialogNumberedFlowStepFooter1)};return c}(b("DialogNumberedFlowStepBase"));e.exports=a}),null);
__d("ProfilePicCoordinatesUtil",[],(function(a,b,c,d,e,f){a={getThumbnailCoordinates:function(a,b){return{endX:Math.abs((a.x+a.width)/b.width),endY:Math.abs((a.y+a.height)/b.height),startX:Math.abs(a.x/b.width),startY:Math.abs(a.y/b.height)}}};e.exports=a}),null);
__d("ProfileWizardModalManager",["Arbiter","ProfileWizardUIEvents","TimelineProfilePicConfig","tidyEvent"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){this.setIsOpen(!1)}var c=a.prototype;c.setIsOpen=function(a){this.$1=a;return this};c.isOpen=function(){return this.$1};c.informProfilePictureUploaded=function(a){b("Arbiter").inform(b("ProfileWizardUIEvents").PROFILE_PIC_UPLOADED,a)};c.informStepEdited=function(a){b("Arbiter").inform(b("ProfileWizardUIEvents").STEP_EDITED+"-"+a)};c.subscribeProfilePictureUploaded=function(a){b("tidyEvent")([b("Arbiter").subscribe(b("ProfileWizardUIEvents").PROFILE_PIC_UPLOADED,a),b("Arbiter").subscribe(b("TimelineProfilePicConfig").success,a)])};c.subscribeStepEdited=function(a,c){b("tidyEvent")(b("Arbiter").subscribe(b("ProfileWizardUIEvents").STEP_EDITED+"-"+a,c))};c.subscribeOnceProfilePictureUploaded=function(a){b("tidyEvent")([b("Arbiter").subscribeOnce(b("ProfileWizardUIEvents").PROFILE_PIC_UPLOADED,a),b("Arbiter").subscribeOnce(b("TimelineProfilePicConfig").success,a)])};return a}();e.exports=new a()}),null);
__d("ProfileWizardDialogFlowCompletion",["Event","ProfileWizardModalManager","goURI","tidyEvent"],(function(a,b,c,d,e,f){a=function(a,c,d,e){"use strict";b("tidyEvent")([b("Event").listen(a,"click",function(){return g(d)}),b("Event").listen(c,"click",function(){return g(e)})])};function g(a){b("ProfileWizardModalManager").setIsOpen(!1),b("goURI")(a,!0)}e.exports=a}),null);
__d("ProfileWizardDialogSpawner",["cx","AsyncRequest","CSS","Event","ProfileWizardModalManager","XProfileWizardImpressionController","tidyEvent"],(function(a,b,c,d,e,f,g){a={attachImpressionHandlers:function(a,c,d,e,f){b("ProfileWizardModalManager").subscribeStepEdited(e,function(){c.setAttribute("href","#"),c.removeAttribute("data-href"),b("CSS").removeClass(c,"_42fr")}),b("tidyEvent")(b("Event").listen(a,"click",function(){var a=b("XProfileWizardImpressionController").getURIBuilder().setInt("step",d).setEnum("surface",f).getURI();new(b("AsyncRequest"))().setURI(a).send()}))}};e.exports=a}),null);
__d("ProfileWizardModalManagerInit",["PageTransitions","ProfileWizardModalManager","URI","destroyOnUnload","goURI"],(function(a,b,c,d,e,f){__p&&__p();var g;a={init:function(a,c){var d=a.subscribeOnce("hide",function(){if(b("ProfileWizardModalManager").isOpen()){b("ProfileWizardModalManager").setIsOpen(!1);var a=new(g||(g=b("URI")))(b("PageTransitions").getCurrentURI().getPath());b("goURI")(a,!0)}});b("destroyOnUnload")(function(){return d.unsubscribe()});b("ProfileWizardModalManager").setIsOpen(!0)}};e.exports=a}),null);