if (self.CavalryLogger) { CavalryLogger.start_js(["hJK8U"]); }

__d("BandicootSession",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=Object.freeze({ACTIVE:"ACTIVE",INACTIVE:"INACTIVE",CLOSED:"CLOSED"}),h=10*60*1e3,i=14*24*60*60*1e3;function j(a){return Date.now()-a.lastUpdated}function a(a){return!!(typeof a==="object"&&a&&a.lastUpdated&&a.status)}function b(a){if(a.status===g.CLOSED)return!1;else if(a.status===g.INACTIVE&&j(a)>h)return!1;return!0}function c(a){return a.status===g.ACTIVE&&j(a)>h}function d(a){return j(a)>i}e.exports={Status:g,isValidSession:a,isTrackedSession:b,isOrphanSession:d,isCrashedSession:c}}),null);
__d("Bandicoot",["invariant","BandicootSession","FBLogger"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=5*1e3,i=h*2,j="Bandicoot:",k=(c=b("BandicootSession")).Status,l=c.isValidSession,m=c.isTrackedSession,n=c.isCrashedSession,o=c.isOrphanSession;function a(){__p&&__p();try{var a=window.localStorage;if(a){var c="__test"+Date.now();a.setItem(c,"");a.removeItem(c)}return a}catch(a){b("FBLogger")("bandicoot").warn("Local storage is full");return null}}var p=a();d=function(){__p&&__p();function a(a){this.$5=j+a,this.$4={},this.$1=this.$7.bind(this),this.sessionID=null,this.sessionStartTime=null,this.storage=p}var c=a.prototype;c.getCrashTimeData=function(){var a=window.performance&&window.performance.memory||{},b=this.sessionStartTime;return{duration:b?Date.now()-b:0,tabs:Object.keys(this.$8()).length,jsHeapSizeLimit:a.jsHeapSizeLimit,totalJSHeapSize:a.totalJSHeapSize,usedJSHeapSize:a.usedJSHeapSize,elementsInDOM:document.getElementsByTagName("*").length,uri:window.location.href}};c.getLogTimeData=function(){return{userAgent:window.navigator.userAgent}};c.logCrash=function(a,c,d){b("FBLogger")("bandicoot").warn("Session %s crashed at %s",a,d)};c.logBrowserUnsupported=function(){b("FBLogger")("bandicoot").warn("Browser not supported")};c.logTrackingError=function(){b("FBLogger")("bandicoot").warn("Failed to record data for current session")};c.startSession=function(){__p&&__p();var a=this;if(!this.storage){this.logBrowserUnsupported();return}if(this.$2)return;this.sessionID||(this.sessionID=Math.random().toString(36).slice(2,9));this.sessionStartTime||(this.sessionStartTime=Date.now());this.$2=setInterval(function(){a.$9()},h);this.$9();document.addEventListener&&document.addEventListener("visibilitychange",this.$1);this.$10()};c.endSession=function(){__p&&__p();if(!this.storage)return;if(!this.$2)return;clearInterval(this.$2);this.$2=null;this.$3||this.$11({status:k.CLOSED});this.sessionID=null;this.sessionStartTime=null;document.removeEventListener&&document.removeEventListener("visibilitychange",this.$1)};c.logKnownCrashes=function(){__p&&__p();var a=this;if(!this.storage)return;if(!this.$2){var b=this.$8();b=this.$12(b,function(b,c){if(n(b)){a.logCrash(c,b,a.getLogTimeData());return null}else return b});this.$13(b)}};c.$14=function(){var a=this.sessionID;a||g(0,663);return a};c.$9=function(){var a=this.$8();this.$15(a);a=this.$16(a);this.$13(a)};c.$15=function(a){var b=this.$14(),c=a[b]?a[b]:{};a[b]=babelHelpers["extends"]({},c,this.getCrashTimeData(),{lastUpdated:Date.now(),status:this.$17()})};c.$12=function(a,b){var c={};Object.keys(a).forEach(function(d){var e=a[d];if(l(e)&&m(e)&&!o(e)){e=b(e,d);e&&(c[d]=e)}});return c};c.$16=function(a){__p&&__p();var b=this;return this.$12(a,function(a,c){__p&&__p();if(n(a)){var d=a.loggerReportTime||0;if(Date.now()-d>i)a.loggerReportTime=Date.now(),a.loggerReportSession=b.$14();else if(a.loggerReportSession==b.$14()){b.logCrash(c,a,b.getLogTimeData());b.$4[c]=!0;return null}}return a})};c.$8=function(a){a=a||this.$5;var c=this.storage.getItem(a)||"{}";try{c=JSON.parse(c)}catch(d){c={},this.storage.removeItem(a),b("FBLogger")("bandicoot").catching(d).warn("Invalid JSON data")}return c};c.$11=function(a){a.lastUpdated=Date.now();var b=this.$8(),c=this.sessionID;c&&b[c]&&(Object.assign(b[c],a),this.$13(b))};c.$13=function(a){a=JSON.stringify(a);try{this.storage.setItem(this.$5,a)}catch(d){a=this.$6;var c=Date.now();(!a||c>a+h)&&(this.logTrackingError(),this.$6=c);try{this.storage.removeItem(this.$5)}catch(a){this.$3=!0,this.endSession(),b("FBLogger")("bandicoot").catching(a).warn("Removing from storage failed")}}};c.$10=function(){for(var a=0;a<this.storage.length;++a){var b=this.storage.key(a);if(b.indexOf(j)===0&&b!==this.$5){var c=this.$8(b),d=Object.keys(c).every(function(a){a=c[a];return!l(a)||o(a)});d&&this.storage.removeItem(b)}}};c.$7=function(){this.$11({status:this.$17()})};c.$17=function(){return document.hidden?k.INACTIVE:k.ACTIVE};return a}();e.exports=d}),null);
__d("Collection",[],(function(a,b,c,d,e,f){__p&&__p();function g(a,b){if(!a.__collection__){var c=new Function();for(var d in a.prototype)c.prototype[d]=g._call.bind(null,d);a.__collection__=c}c=new a.__collection__();c._elements=b;return c}g._call=function(a){var b=Array.prototype.slice.call(arguments,1);this._elements.forEach(function(c){c[a].apply(c,b)});return this};e.exports=g}),null);
__d("Drag",["Arbiter","DOM","Event","Style","Vector"],(function(a,b,c,d,e,f){__p&&__p();var g={};g.currentDraggable=null;g.grab=function(a){g.currentDraggable&&g._onmouseup(),a.lastDragOver=null,g.attachDragEvents(),g.currentDraggable=a};g.attachDragEvents=function(){document.onselectstart=function(){document.onselectstart=null;return!1};if(g.dragEventsAttached)return;g.dragEventsAttached=!0;b("Arbiter").subscribe("scroller/scroll",g._onmousemove);b("Event").listen(document,{mousemove:g._onmousemove,mouseup:g._onmouseup})};g.droppables={};g.addDroppable=function(a,b){(g.droppables[a]=g.droppables[a]||[]).push(b)};g.removeDroppable=function(a,b){g.droppables[a]=g.droppables[a].filter(function(a){return a!=b})};g.getOffsetParent=function(a){if(b("DOM").isNodeOfType(a,["body","html"]))return document.body;while((a=a.parentNode)&&a!==document.body)if(b("Style").get(a,"position")!=="static")return a;return document.body};g._onmousemove=function(a,c){__p&&__p();if(!g.currentDraggable)return;c=c||b("Vector").getEventPosition(a);a=g.currentDraggable;var d=g.droppables[a.namespace];if(a.namespace&&a.active&&d){var e={};d.forEach(function(a){e[a.zIndex]=a.zIndex});var f=[];for(var h in e)f.push(e[h]);f.sort();var i=a.lastDragOver,j=null;for(var k=f.length-1;k>=0;k--)if(i&&i.dom!=null&&i.zIndex==f[k]&&i.isDraggedOver(c)){j=i;break}else{i&&i.ondragout&&i.ondragout(a);for(h=0;h<d.length;h++){if(f[k]!=d[h].zIndex)continue;if(i!=d[h]&&a.dom!=d[h].dom&&d[h].isDraggedOver(c)){j=d[h];k=-1;break}}}j&&j!=i&&(j.ondragover(a),g.currentDraggable.adjustCursorPosition());j&&j.ondragmove(a,c.sub(b("Vector").getElementPosition(j.dom)));a.lastDragOver=j}g.currentDraggable._onmousemove(c)};g._onmouseup=function(a){document.onselectstart=null,g.currentDraggable&&(g.currentDraggable._ondrop(),g.currentDraggable=null)};e.exports=g}),null);
__d("Scroller",["Arbiter","Event","Rect","Style","Vector","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){var c=this;this._onmousemove=function(a){c.cursor=b("Vector").getEventPosition(a)};this.canvas=a;this.scrollZone=50;this.velocity=100;this.coefficient=1}var c=a.prototype;c.activate=function(){this.activate=b("emptyFunction"),this.event=b("Event").listen(document,"mousemove",this._onmousemove),this.interval=setInterval(this._intervalHandler.bind(this),50),this.cursor=null};c.deactivate=function(){delete this.activate,this.event&&this.event.remove(),this.event=null,clearInterval(this.interval)};c._intervalHandler=function(){__p&&__p();if(!this.cursor)return;var a=this.canvas==document.body?b("Rect").getViewportBounds():new(b("Rect"))(this.canvas);a=new(b("Rect"))(this.cursor.y-a.t,a.r-this.cursor.x,a.b-this.cursor.y,this.cursor.x-a.l);var c=new(b("Vector"))(0,0);a.t<a.b&&a.t<this.scrollZone?c.y=-this.scrollZone+a.t:a.b<this.scrollZone&&(c.y=this.scrollZone-a.b);c.y=this._doMath(c.y);a.l<a.r&&a.l<this.scrollZone?c.x=-this.scrollZone+a.l:a.r<this.scrollZone&&(c.x=this.scrollZone-a.r);c.x=this._doMath(c.x);if(c.x||c.y){c.scrollElementBy(this.canvas);if(document.body==this.canvas){a=b("Vector").getScrollPosition();c.scrollElementBy(this.canvas);var d=b("Vector").getScrollPosition();this.cursor=this.cursor.add(d.sub(a))}else c.scrollElementBy(this.canvas);b("Arbiter").inform("scroller/scroll",this.cursor)}};c._doMath=function(a){a=a>=0?Math.min(a,this.scrollZone):Math.max(a,-this.scrollZone);return Math.floor(Math.pow(a/this.scrollZone*this.velocity,this.coefficient))};a.findScrollParent=function(a){__p&&__p();var c;a=a.parentNode;while(a){if(a.scrollHeight!=a.offsetTop){c=b("Style").get(a,"overflowY");if(c=="scroll"||c=="auto")return a}a=a.parentNode}return document.body};return a}();e.exports=a}),null);
__d("Draggable",["Collection","DOM","Drag","Event","Rect","Scroller","Vector","emptyFunction"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(c){__p&&__p();var d=this;this._onclick=function(a){if(!d._shouldKillEvents)return!0;if(d.active)return b("Event").kill(a)};this._onmousedown=function(a){__p&&__p();if(!(a.which&&a.which===1||a.button&&a.button===1))return;var c=a.getTarget();if(b("DOM").isNodeOfType(c,["input","select","textarea","object","embed"]))return!0;c=b("Vector").getEventPosition(a);var e=b("Vector").getElementDimensions(d.dom);d.draggableInitialVector=b("Vector").getElementPosition(d.dom);d.cursorPositionVector=c.sub(d.draggableInitialVector);d.grabPctX=e.x===0?0:d.cursorPositionVector.x/e.x;d.grabPctY=e.y===0?0:d.cursorPositionVector.y/e.y;b("Drag").grab(d,a);d.gutter?d.cursorInitialVector=c:(d._setActive(!0),d._ongrab(c));return!d._shouldKillEvents?!0:b("Event").kill(a)};this._killUnlessActive=function(a){if(!d._shouldKillEvents)return;if(a.getTarget()!==document.activeElement)return a.kill()};if(!c)throw new Error("Element should be a DOM node");if(!(this instanceof a))if(c instanceof Array){var e=[];c.forEach(function(b){e.push(new a(b))});return new(b("Collection"))(a,e)}else return new a(c);else this.data={},this.handles=[],this.dom=c,this.boundingBox=null,this.useScroller=!0,this.scrollParents=null,this.manualPositioner=null,this.grabPctX=this.grabPctY=0,this._shouldKillEvents=!0,this._setInactiveTimeout=null,this.addHandle(this.dom)}var c=a.prototype;c.destroy=function(){var a=this;this.handles.forEach(function(b){return a.removeHandle(b.obj)});this.data=this.dom=null};c.adjustCursorPosition=function(){var a=b("Vector").getElementDimensions(this.dom);this.cursorPositionVector=new(b("Vector"))(parseInt(this.grabPctX*a.x,10),parseInt(this.grabPctY*a.y,10))};c._ongrab=function(a){__p&&__p();this.ongrab(a);this.useScroller&&(this.scrollers||(this.scrollers=this.scrollParents?this.scrollParents.map(function(a){return new(b("Scroller"))(a)}):[new(b("Scroller"))(b("Scroller").findScrollParent(this.dom))]),this.scrollers.forEach(function(a){return a.activate()}));if(this.active){this.oldPosition||(this.oldPosition=this.dom.style.position);this.oldTop||(this.oldTop=this.dom.style.top);var c=b("Drag").getOffsetParent(this.dom);c!==document.body&&(a=a.sub(b("Vector").getElementPosition(c)));this.dom.style.position=this.absolute?"absolute":"relative";a.sub(this.cursorPositionVector).setElementPosition(this.dom)}};c._onmousemove=function(a){__p&&__p();this.active||a.distanceTo(this.cursorInitialVector)>=this.gutter&&(this._setActive(!0),this._ongrab(a));if(this.active){var c=a.sub(this.cursorPositionVector);if(this.boundingBox){var d=b("Rect").newFromVectors(c,b("Vector").getElementDimensions(this.dom));d=d.boundWithin(this.boundingBox);c=d.getPositionVector();this.boundingBox.w()===0&&this.boundingBox.h()===0?d=new(b("Vector"))(this.draggableInitialVector.x,this.draggableInitialVector.y,"document"):this.boundingBox.w()===0?d=new(b("Vector"))(this.draggableInitialVector.x,c.y,"document"):this.boundingBox.h()===0?d=new(b("Vector"))(c.x,this.draggableInitialVector.y,"document"):d=c}else d=c;c=b("Drag").getOffsetParent(this.dom);c!==document.body&&(d=d.sub(b("Vector").getElementPosition(c)));this.manualPositioner?this.manualPositioner.updateMousePosition(d):d.setElementPosition(this.dom);this.ondrag(a)}};c._ondrop=function(){var a=this;this.scrollers&&this.scrollers.forEach(function(a){return a.deactivate()});this.active&&(this._setInactiveTimeout=setTimeout(function(){a._setInactiveTimeout=null,a._setActive(!1)},0),this.ondrop(this.scrollers&&this.scrollers[0].cursor),this.lastDragOver&&this.lastDragOver.ondrop(this))};c.killDrag=function(){this._setActive(!1),b("Drag")._onmouseup()};c.forceDrop=function(){b("Drag")._onmouseup()};c.triggerMouseDown=function(a){this._onmousedown(a)};c.setBoundingBox=function(a){this.boundingBox=a;return this};c.resetPosition=function(){var a;this.dom.style.position=this.oldPosition;this.oldPosition=null;this.dom.style.left="";this.dom.style.top=(a=this.oldTop)!=null?a:"";this.oldTop=null;return this};c.setUseAbsolute=function(a){this.absolute=a;return this};c.setDragHandler=function(a){this.ondrag=a;return this};c.setGrabHandler=function(a){this.ongrab=a;return this};c.setDropHandler=function(a){this.ondrop=a;return this};c.setGutter=function(a){this.gutter=a;return this};c.setNamespace=function(a){this.namespace=a;return this};c.setUseScroller=function(a){this.useScroller=a;return this};c.setScrollParents=function(a){this.scrollParents=a;return this};c.setAvoidKillingEvents=function(a){this._shouldKillEvents=!a;return this};c.setManualPositioner=function(a){this.manualPositioner=a;return this};c.addHandle=function(a){this.handles.length==1&&this.handles[0].obj==this.dom&&this.removeHandle(this.dom);this.handles.push({obj:a,evt:[b("Event").listen(a,"mousedown",this._onmousedown),b("Event").listen(a,"click",this._onclick),b("Event").listen(a,"drag",this._killUnlessActive),b("Event").listen(a,"selectstart",this._killUnlessActive)]});return this};c.removeHandle=function(a){this.handles=this.handles.filter(function(b){if(b.obj!=a)return!0;else{b.evt.forEach(function(a){a.remove()});return!1}})};c.getDOM=function(){return this.dom};c.setKey=function(a,b){this.data[a]=b;return this};c.getKey=function(a){return this.data[a]};c._setActive=function(a){if(!this.dom)return;a&&this._setInactiveTimeout!=null&&clearTimeout(this._setInactiveTimeout);this.dom.activeDrag=this.active=a;for(var b=0;b<this.handles.length;b++)this.handles[b].obj.activeDrag=a};return a}();a.prototype.ondrag=b("emptyFunction");a.prototype.ongrab=b("emptyFunction");a.prototype.ondrop=b("emptyFunction");a.prototype.gutter=0;a.prototype.handles=null;e.exports=a}),null);
__d("AsyncUploadBase",["ArbiterMixin","AsyncRequest","AsyncResponse","BrowserSupport","Form","forEachObject","mixin","removeFromArray"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);c.parseFiles=function(a){__p&&__p();var c={};b("forEachObject")(a,function(a,b){if(Array.isArray(a))c[b]=a;else{c[b]=[];if(a instanceof window.FileList)for(var d=0;d<a.length;d++)c[b].push(a.item(d));else(a instanceof window.File||a instanceof window.Blob)&&c[b].push(a)}});return c};function c(b){__p&&__p();var c;c=a.call(this)||this;c._allowCrossOrigin=!1;c._allowCrossPageTransition=!1;c._customHeader={};c._inFlight=!1;c._limit=10;c._preventDefaultErrorHandler=!1;c._suspended=!1;b&&c.setURI(b);c.setNetworkErrorRetryLimit(0);return c}var d=c.prototype;d.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};d.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};d.setCustomHttpHeader=function(a,b){this._customHeader[a]=b;return this};d.setData=function(a){this._data=a;return this};d.setPreventDefaultErrorHandler=function(a){this._preventDefaultErrorHandler=a;return this};d.setLimit=function(a){this._limit=a;return this};d.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};d.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};d.setRelativeTo=function(a){this._relativeTo=a;return this};d.setStatusElement=function(a){this._statusElement=a;return this};d.setURI=function(a){this._uri=a;return this};d.suspend=function(){this._suspended=!0;return this};d.resume=function(){this._suspended=!1;this._processQueue();return this};d.isUploading=function(){return this._inFlight};d._createFileUpload=function(a,b,c){return new g(a,b,c)};d._processQueue=function(){if(this._suspended)return;while(this._pending.length<this._limit){if(!this._waiting.length)break;var a=this._waiting.shift(),b=this._preprocessHandler;b?b(a,this._processUpload.bind(this)):this._processUpload(a);this._pending.push(a)}};d._processUpload=function(a){__p&&__p();var c=b("Form").createFormData(a.getData()||this._data);if(a.getFile()){c.append(a.getName(),a.getFile());var d=a.getFile().uploadID;d&&c.append("upload_id",d);a.getAdditionalData().forEach(function(a,b){return c.append(b,a)})}d=new(b("AsyncRequest"))().setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setURI(this._uri).setRawData(c).setStatusElement(this._statusElement).setHandler(this._success.bind(this,a)).setErrorHandler(this._failure.bind(this,a)).setUploadProgressHandler(this._progress.bind(this,a)).setInitialHandler(this._initial.bind(this,a));for(var e in this._customHeader)d.setRequestHeader(e,this._customHeader[e]);this._relativeTo&&d.setRelativeTo(this._relativeTo);d.send();a.setAsyncRequest(d);this._inFlight=!0;a.getRetryCount()||this.inform("start",a)};d._abort=function(a){this._pending.indexOf(a)!==-1&&(b("removeFromArray")(this._pending,a),this._processQueue()),b("removeFromArray")(this._waiting,a),a.abort()};d._initial=function(a){if(a.isAborted())return;this.inform("initial",a)};d._success=function(a,b){if(a.isAborted()){this.inform("success_after_abort",b);return}this._complete(a);this.inform("success",a.handleSuccess(b));this._processQueue()};d._retryUpload=function(a){a.increaseRetryCount(),this._processUpload(a)};d._failure=function(a,c){if(a.isAborted())return;if(c.error===1004&&a.getRetryCount()<(this._retryLimit||0))return this._retryUpload(a);this._complete(a);this.inform("failure",a.handleFailure(c))!==!1&&(this._preventDefaultErrorHandler||b("AsyncResponse").defaultErrorHandler(c));this._processQueue()};d._progress=function(a,b){if(a.isAborted())return;this.inform("progress",a.handleProgress(b))};d._complete=function(a){b("removeFromArray")(this._pending,a),this._pending.length||(this._inFlight=!1)};c.isSupported=function(){return b("BrowserSupport").hasFileAPI()};return c}(b("mixin")(b("ArbiterMixin")));var g=function(){"use strict";__p&&__p();function a(a,b,c){this._additionalData=new Map(),this._success=null,this._response=null,this._progressEvent=null,this._request=null,this._numRetries=0,this._aborted=!1,this._name=a,this._file=b,this._data=c}var b=a.prototype;b.getName=function(){return this._name};b.getFile=function(){return this._file};b.setFile=function(a){this._file=a};b.getData=function(){return this._data};b.getAdditionalData=function(){return this._additionalData};b.isComplete=function(){return this._success!==null};b.isSuccess=function(){return this._success===!0};b.getResponse=function(){return this._response};b.getProgressEvent=function(){return this._progressEvent};b.setAsyncRequest=function(a){this._request=a;return this};b.increaseRetryCount=function(){this._numRetries++;return this};b.getRetryCount=function(){return this._numRetries};b.isWaiting=function(){return!this._request};b.isAborted=function(){return this._aborted};b.abort=function(){this._request=null,this._aborted=!0};b.handleSuccess=function(a){this._success=!0;this._response=a;this._progressEvent=null;return this};b.handleFailure=function(a){this._success=!1;this._response=a;this._progressEvent=null;return this};b.handleProgress=function(a){this._progressEvent=a;return this};return a}();e.exports=a}),null);
__d("AsyncUploadRequest",["AsyncUploadBase"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c._files=null,c._uploads=[],c._fileLessUpload=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.setFiles=function(a){this._files=b("AsyncUploadBase").parseFiles(a);return this};d.setAlwaysReturnResponse=function(a){this._shouldAlwaysReturnResponse=a};d.abort=function(){var a=this;this._uploads.forEach(function(b){return a._abort(b)},this)};d.send=function(){__p&&__p();if(this._inFlight)return;this._inFlight=!0;this._uploads=[];for(var a in this._files)this._files[a].forEach(function(b){this._uploads.push(this._createFileUpload(a,b))}.bind(this));this._waiting=this._uploads.slice(0);this._pending=[];this._uploads.length?this._processQueue():(this._fileLessUpload=this._createFileUpload(null,null),this._processUpload(this._fileLessUpload))};d._processQueue=function(){a.prototype._processQueue.call(this);if(!this._pending.length&&!this._waiting.length){var b=this._uploads;b=this._shouldAlwaysReturnResponse?this._fileLessUpload!=null?{response:this._fileLessUpload.getResponse(),uploads:b}:{response:b[0].getResponse(),uploads:b}:b;this.inform("complete",b)}};c.isSupported=function(){return b("AsyncUploadBase").isSupported()};return c}(b("AsyncUploadBase"));e.exports=a}),null);
__d("FileForm",["ArbiterMixin","AsyncRequest","AsyncResponse","AsyncUploadRequest","BehaviorsMixin","CurrentUser","DataStore","DOMQuery","Event","Form","JSONPTransport","Parent","URI","isElementNode","mixin","setTimeout","shield"],(function(a,b,c,d,e,f){__p&&__p();var g;function h(a){var c={};a=b("DOMQuery").scry(a,'input[type="file"]');a.forEach(function(a){c[a.name]=a.files});return c}function i(a){a=b("DOMQuery").scry(a,'input[type="file"]');a.forEach(function(a){a.files=null})}a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d,e){__p&&__p();var f;f=a.call(this)||this;f._handleSubmit=function(a){if(a.isDefaultPrevented()||a.getTarget()!==f._form)return;if(f.inform("submit")===!1){a.prevent();return}f.submit(a)};f.initial=function(a){return f.inform("initial",{upload:a})};if(c.getAttribute("rel")==="async")throw new Error("FileForm cannot be used with Primer forms.");if((c.getAttribute("method")||"").toUpperCase()!=="POST")throw new Error("FileForm must be used with POST forms.");f._form=c;f._previousEncoding=f._form.enctype;f._form.enctype=f._form.encoding="multipart/form-data";f._files=null;f._customHeader={};d&&f.enableBehaviors(d);f._options=e||{};f.setAllowCrossOrigin(f._options.allowCrossOrigin);f.setAllowCrossPageTransition(f._options.allowCrossPageTransition);f.setUploadInParallel(f._options.uploadInParallel);f.setConcurrentLimit(f._options.concurrentLimit);f.setPreprocessHandler(f._options.preprocessHandler);f.setNetworkErrorRetryLimit(f._options.networkErrorRetryLimit);f._listeners=[b("Event").listen(document.documentElement,"submit",f._handleSubmit),b("Event").listen(f._form,"click",f._click.bind(babelHelpers.assertThisInitialized(f)))];b("DataStore").set(f._form,"FileForm",babelHelpers.assertThisInitialized(f));return f}var d=c.prototype;d.getRoot=function(){return this._form};d.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};d.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};d.setUploadInParallel=function(a){this._uploadInParallel=!!a;return this};d.setConcurrentLimit=function(a){this._concurrentLimit=a;return this};d.setCustomHttpHeader=function(a,b){this._customHeader[a]=b;return this};d.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};d.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};d.setFiles=function(a){this._files=a;return this};d.canUseXHR=function(){var a="FormData"in window;a&&(!new(g||(g=b("URI")))(this._form.action).isSameOrigin()&&!this._allowCrossOrigin&&(a=!1));return a};d._click=function(a){a=a.getTarget();while(b("isElementNode")(a)){if(a.type==="submit"){this._clickTarget=a;b("setTimeout")(this._unclick.bind(this),0);break}a=a.parentNode}};d._unclick=function(){this._clickTarget=null};d._sendViaFrame=function(){__p&&__p();var a=this._request=new(b("AsyncRequest"))();a.setStatusElement(this._getStatusElement());a.addStatusIndicator();a.setOption("useIframeTransport",!0);var c=a.handleResponse.bind(a);c=new(b("JSONPTransport"))("iframe",this._form.action,c);var d=c.getTransportFrame(),e=c.getRequestURI().addQueryData({__iframe:!0,__user:b("CurrentUser").getID()});this._form.setAttribute("action",e.toString());c.createContinuationForFileForm_DO_NOT_USE();this._form.setAttribute("target",d.name);a.setJSONPTransport(c);a.setURI(e);a.setHandler(this.success.bind(this,null));a.setErrorHandler(this.failure.bind(this,null));a.setInitialHandler(b("shield")(this.initial,this,null))};d._sendViaXHR=function(a){__p&&__p();var c=this,d;if(this._uploadInParallel&&b("AsyncUploadRequest").isSupported()){d=new(b("AsyncUploadRequest"))().setPreprocessHandler(this._preprocessHandler).setData(b("Form").serialize(this._form,this._clickTarget)).setNetworkErrorRetryLimit(this._retryLimit);for(var e in this._customHeader)d.setCustomHttpHeader(e,this._customHeader[e]);this._concurrentLimit&&d.setLimit(this._concurrentLimit);this._files?d.setFiles(this._files):d.setFiles(h(this._form));var f=[d.subscribe("progress",function(a,b){this.progress(b,b.getProgressEvent())}.bind(this)),d.subscribe("initial",function(a,b){this.initial(b)}.bind(this)),d.subscribe("success",function(a,b){this.success(b,b.getResponse())}.bind(this)),d.subscribe("start",function(a,b){this.inform("start",{upload:b})}.bind(this)),d.subscribe("failure",function(a,b){this.failure(b,b.getResponse());return!1}.bind(this)),d.subscribe("complete",function(){while(f.length)f.pop().unsubscribe()})]}else{var g,e,i;(function(){__p&&__p();var a,f=c._files;if(f){a=b("Form").createFormData(b("Form").serialize(c._form,c._clickTarget));g=b("AsyncUploadRequest").parseFiles(f);for(e in g)i=g[e],i.length===1?a.append(e,i[0]):(e=e+"[]",i.forEach(function(b){a.append(e,b)}))}else a=b("Form").createFormData(c._form,c._clickTarget);d=new(b("AsyncRequest"))().setRawData(a).setHandler(c.success.bind(c,null)).setErrorHandler(c.failure.bind(c,null)).setUploadProgressHandler(c.progress.bind(c,null)).setInitialHandler(b("shield")(c.initial,c,null));c.inform("start",{upload:null})})()}d.setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setRelativeTo(this._form).setStatusElement(this._getStatusElement()).setURI(this._form.action).send();this._request=d;a&&a.prevent()};d.forceSendViaXHR=function(){return this._sendViaXHR(null)};d.success=function(a,c){c={response:c,upload:a};this.inform("success",c)!==!1&&b("Event").fire(this._form,"success",c);this._cleanup()};d.failure=function(a,c){a={response:c,upload:a};this.inform("failure",a)!==!1&&(b("Event").fire(this._form,"error",a)!==!1&&b("AsyncResponse").defaultErrorHandler(c));this._cleanup()};d.progress=function(a,b){this.inform("progress",{event:b,upload:a})};d.abort=function(){this._request&&(this._request.abort(),this._cleanup())};d.clear=function(){i(this._form)};d.destroy=function(){this._cleanup();while(this._listeners&&this._listeners.length)this._listeners.pop().remove();this._listeners=null;this._form.enctype=this._form.encoding=this._previousEncoding;b("DataStore").remove(this._form,"FileForm")};d.submit=function(a){this.canUseXHR()?this._sendViaXHR(a):this._sendViaFrame()};d._cleanup=function(){this._request=null};d._getStatusElement=function(){return b("Parent").byClass(this._form,"stat_elem")||this._form};c.getInstance=function(a){return b("DataStore").get(a,"FileForm")};return c}(b("mixin")(b("ArbiterMixin"),b("BehaviorsMixin")));Object.assign(a,{EVENTS:["start","submit","initial","progress","success","failure"]});e.exports=a}),null);
__d("FileInputUploader",["ArbiterMixin","DOM","DTSG","FileForm","Form","mixin"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c._inputElem=b;c._data={};return c}var d=c.prototype;d.setInput=function(a){this._inputElem=a;return this};d.setURI=function(a){this._uri=a;return this};d.setData=function(a){this._data=a;return this};d.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};d.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};d.setFiles=function(a){this._files=a;return this};d.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};d.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};d.setUploadInParallel=function(a){this._uploadInParallel=!!a;return this};d.setConcurrentLimit=function(a){this._concurrentLimit=a;return this};d.abort=function(){this._fileForm&&(this._fileForm.abort(),this._destroyFileForm())};d.send=function(){__p&&__p();this._createForm();var a=this._inputElem&&!this._inputElem.parentElement;if(!a&&this._inputElem){var c=this._inputElem.cloneNode(!1);b("DOM").replace(this._inputElem,c)}this._inputElem&&b("DOM").appendContent(this._formElem,this._inputElem);b("DOM").appendContent(document.body,this._formElem);this._fileForm.submit();!a&&this._inputElem&&b("DOM").replace(c,this._inputElem);this._removeFormEl()};d._onFileFormEvent=function(a,b){(a==="success"||a==="failure")&&this._destroyFileForm();return this.inform(a,b)};d._createForm=function(){var a;this._destroyFileForm();this._formElem=b("DOM").create("form",{action:this._uri,method:"post"});this._fileForm=new(b("FileForm"))(this._formElem,null,{allowCrossOrigin:!!this._allowCrossOrigin,allowCrossPageTransition:!!this._allowCrossPageTransition,uploadInParallel:!!this._uploadInParallel,concurrentLimit:(a=this._concurrentLimit)!=null?a:0,preprocessHandler:(a=this._preprocessHandler)!=null?a:null,networkErrorRetryLimit:(a=this._retryLimit)!=null?a:0});this._files&&this._fileForm.setFiles(this._files);this._fileForm.subscribe(b("FileForm").EVENTS,this._onFileFormEvent.bind(this));b("Form").createHiddenInputs(babelHelpers["extends"]({fb_dtsg:b("DTSG").getToken()},this._data),this._formElem)};d._removeFormEl=function(){b("DOM").remove(this._formElem),this._formElem=null};d._destroyFileForm=function(){this._fileForm&&(this._fileForm.destroy(),this._fileForm=null)};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a}),null);
__d("PhotosUploadID",[],(function(a,b,c,d,e,f){var g=1024;a={getNewID:function(){return(g++).toString()}};e.exports=a}),null);
__d("ServerRedirect",["ReloadPage","URI"],(function(a,b,c,d,e,f){var g;a={redirectPageTo:function(a,c,d){(g||(g=b("URI"))).go(a,c,d)},reloadPage:function(){b("ReloadPage").now()}};e.exports=a}),null);
__d("fileSliceName",["UserAgent_DEPRECATED"],(function(a,b,c,d,e,f){a="slice";(c=b("UserAgent_DEPRECATED").chrome())?c<21&&(a="webkitSlice"):(c=b("UserAgent_DEPRECATED").firefox())?c<13&&(a="mozSlice"):b("UserAgent_DEPRECATED").safari()||b("UserAgent_DEPRECATED").webkit()&&(a="webkitSlice");e.exports=a}),null);
__d("fileSlice",["fileSliceName"],(function(a,b,c,d,e,f){c=a.File&&a.File.prototype[b("fileSliceName")];c||(c=a.Blob&&a.Blob.prototype[b("fileSliceName")]);e.exports=c}),null);
__d("LeftFillRightFitLayout.react",["invariant","Layout.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("Layout.react").Column,i=b("Layout.react").FillColumn;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){var a=[],c=this.props.children;c&&c.length===2||g(0,1534);b("React").Children.forEach(this.props.children,function(b){return a.push(b)},this);return{firstChild:a[0],secondChild:a[1]}};d.render=function(){var a=this.$1();return b("React").jsxs(b("Layout.react"),{className:this.props.className,style:this.props.style,children:[b("React").jsx(i,{className:this.props.fillColumnClassName,children:a.firstChild}),b("React").jsx(h,{className:this.props.fitColumnClassName,children:a.secondChild})]})};return c}(b("React").Component);e.exports=a}),null);
__d("PagesHeaderDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationReactDispatcher"))({strict:!0})}),null);
__d("PagesProfilePictureActions",["PagesHeaderDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";function a(){b("PagesHeaderDispatcher").dispatch({data:{loading:!0},type:"profile_picture_update"})}function c(a){b("PagesHeaderDispatcher").dispatch({data:{profilePicStoryData:b("immutable").fromJS({storyCreationStatus:a})},type:"profile_picture_story_uploading"})}e.exports={updateProfilePicture:a,updateProfilePictureStory:c}}),null);
__d("PagesStoryCreationStatusTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({STORY_CREATION_STARTED:"",STORY_CREATION_SUCCESS:"",STORY_CREATION_FAILURE:""},"PagesStoryCreationStatus");e.exports=a}),null);
__d("XFRXHandleChevronClickController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/frx/handle_chevron_click/",{})}),null);
__d("FRXHandleChevronClick",["AsyncRequest","Event","XFRXHandleChevronClickController"],(function(a,b,c,d,e,f){"use strict";a={init:function(a,c,d,e){b("Event").listen(a,"click",function(){new(b("AsyncRequest"))().setURI(b("XFRXHandleChevronClickController").getURIBuilder().getURI()).setMethod("POST").setData({reportable_ent_id:c,frx_entry_point:d,nfx_story_location:e}).send()})}};e.exports=a}),null);
__d("AssertionError",["ManagedError"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,b)||this}return b}(b("ManagedError"));e.exports=a}),null);
__d("Assert",["AssertionError","sprintf"],(function(a,b,c,d,e,f){__p&&__p();function g(a,c){if(typeof a!=="boolean"||!a)throw new(b("AssertionError"))(c);return a}function h(a,c,d){__p&&__p();var e;if(c===void 0)e="undefined";else if(c===null)e="null";else{var f=Object.prototype.toString.call(c);e=/\s(\w*)/.exec(f)[1].toLowerCase()}g(a.indexOf(e)!==-1,d||b("sprintf")("Expression is of type %s, not %s",e,a));return c}function a(a,b,c){g(b instanceof a,c||"Expression not instance of type");return b}function i(a,b){j["is"+a]=b,j["maybe"+a]=function(a,c){a!=null&&b(a,c)}}var j={isInstanceOf:a,isTrue:g,isTruthy:function(a,b){return g(!!a,b)},type:h,define:function(a,b){a=a.substring(0,1).toUpperCase()+a.substring(1).toLowerCase(),i(a,function(a,c){g(b(a),c)})}};["Array","Boolean","Date","Function","Null","Number","Object","Regexp","String","Undefined"].forEach(function(a){i(a,h.bind(null,a.toLowerCase()))});e.exports=j}),null);
__d("XSlideshowShakrOAuthController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/slideshow/shakr/",{})}),null);
__d("XSlideshowShakrPollController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/slideshow/shakr/show/",{})}),null);
__d("XSlideshowStorylineMoodAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/slideshow/storyline_mood/",{target_id:{type:"FBID"}})}),null);
__d("XSlideshowStorylineMoodDeleteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/slideshow/storyline_mood/delete/",{})}),null);
__d("XSlideshowStorylineMoodUploadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/slideshow/storyline_mood/upload/",{})}),null);
__d("XSlideshowVideoFrameImagesAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/slideshow/frame_images/",{request_type:{type:"Enum",enumType:0},video_id:{type:"FBID"}})}),null);
__d("SlideshowDataManager",["AsyncRequest","XSlideshowShakrOAuthController","XSlideshowShakrPollController","XSlideshowStorylineMoodAsyncController","XSlideshowStorylineMoodDeleteController","XSlideshowStorylineMoodUploadController","XSlideshowVideoFrameImagesAsyncController","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}var c=a.prototype;c.fetchStorylineMoodSource=function(a,c,d){var e=b("XSlideshowStorylineMoodAsyncController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(e).setData({storyline_mood_id:a,total_length:c}).setMethod("POST").setHandler(function(a){return d(a.payload)}).send()};c.fetchStorylineMoodFiles=function(a,c){var d=this,e=b("XSlideshowStorylineMoodAsyncController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(e).setMethod("GET").setData({target_id:c}).setReadOnly(!0).setHandler(function(b){return a(d.getStorylineMoodFiles(b.payload))}).send()};c.getStorylineMoodFiles=function(a){var c=[];Object.keys(a).forEach(function(b){c.push({moodID:b,fileName:a[b].fileName,categories:a[b].categories,source:null})});return b("immutable").List(c)};c.scheduleFrameImagesAsyncJob=function(a){var c=b("XSlideshowVideoFrameImagesAsyncController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(c).setData({request_type:0,video_id:a}).setMethod("POST").send()};c.fetchVideoFrameImages=function(a,c){var d=b("XSlideshowVideoFrameImagesAsyncController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(d).setData({request_type:1,video_id:c}).setMethod("POST").setHandler(function(b){return a(b.payload)}).send()};c.uploadAudioFile=function(a,c,d,e){__p&&__p();var f=this;if(!a||!a.input||!a.input.files.length)return;var g=b("XSlideshowStorylineMoodUploadController").getURIBuilder().getURI(),h=new FormData();h.append("audio_file",a.input.files[0]);h.append("target_id",c);new(b("AsyncRequest"))().setURI(g).setRawData(h).setMethod("POST").setErrorHandler(function(a){return e()}).setHandler(function(a){return f.$1(a.payload,d,e)}).send();a.clear()};c.$1=function(a,b,c){a.success?b({moodID:a.moodID,fileName:a.fileName,categories:a.categories,source:null}):c()};c.deleteAudioFile=function(a){var c=b("XSlideshowStorylineMoodDeleteController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(c).setData({mood_id:a}).setMethod("POST").send()};c.getShakrScopeToken=function(a){var c=b("XSlideshowShakrOAuthController").getURIBuilder();new(b("AsyncRequest"))().setURI(c.getURI()).setHandler(function(b){return a(b.payload)}).send()};c.pollShakrForVideoURL=function(a,c){var d=b("XSlideshowShakrPollController").getURIBuilder();new(b("AsyncRequest"))().setURI(d.getURI()).setData({show_id:a}).setHandler(function(a){return c(a.payload)}).send()};return a}();e.exports=new a()}),null);
__d("CanvasToBlobImpl",["BlobFactory"],(function(a,b,c,d,e,f){function a(a,c){a=atob(a.substr(a.indexOf(",")+1));var d=new Uint8Array(a.length);for(var e=0;e<a.length;e++)d[e]=a.charCodeAt(e);return b("BlobFactory").getBlob([d],{type:c})}e.exports={getBlob:a}}),null);
__d("dataURLToBlob",["Promise","BlobFactory","CanvasToBlobImpl","CanvasToBlobResource","WebWorker"],(function(a,b,c,d,e,f){__p&&__p();var g=b("CanvasToBlobImpl").getBlob,h=a.URL||a.webkitURL||{};function c(a,c){if(!h.createObjectURL||!b("BlobFactory").isSupported)return b("Promise").reject("Browser doesn't support this feature");if(b("WebWorker").isSupported())return new(b("Promise"))(function(d,e){var f=new(b("WebWorker"))(b("CanvasToBlobResource")).setMessageHandler(function(a){d(a),f.terminate()}).setErrorHandler(function(a){e(a.message),f.terminate()}).execute().postMessage({dataURL:a,fileType:c})});else return b("Promise").resolve(g(a,c))}e.exports=c}),null);
__d("canvasToBlob",["Promise","dataURLToBlob","promiseDone"],(function(a,b,c,d,e,f){function a(a,c,d){return new(b("Promise"))(function(e,f){if(a.toBlob)a.toBlob(e,c,d);else{var g=a.toDataURL(c,d);b("promiseDone")(b("dataURLToBlob")(g,c).then(function(a){e(a)},f))}})}e.exports=a}),null);
__d("VideoThumbnail",["invariant"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$1=a}var b=a.prototype;b.getURL=function(){return this.$1};b.getData=function(){g(0,4844)};a.addTextToCanvasContext=function(a,b,c,d,e,f,g,h,i){__p&&__p();a.fillStyle=h;a.textAlign=i;a.font=f+"px "+g;h=i==="center"?d+e/2:d;g=1;i=b.split("\n");for(var d=i,b=Array.isArray(d),i=0,d=b?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(b){if(i>=d.length)break;j=d[i++]}else{i=d.next();if(i.done)break;j=i.value}j=j;var k="",l="";j=j.split(" ");for(var j=j,m=Array.isArray(j),n=0,j=m?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=j.length)break;o=j[n++]}else{n=j.next();if(n.done)break;o=n.value}o=o;l+=o;var p=a.measureText(l).width,q=a.measureText(o).width;if(q>e){k.length>0&&(a.fillText(k,h,c+f*g),g++);q="";var r="";for(var s=o,t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var v;if(t){if(u>=s.length)break;v=s[u++]}else{u=s.next();if(u.done)break;v=u.value}v=v;r+=v;var w=a.measureText(r).width;w>e?(a.fillText(q,h,c+f*g),q=v,r=v,g++):q=r}k=q+" ";l=q+" "}else p>e?(a.fillText(k,h,c+f*g),k=o+" ",l=o+" ",g++):(l+=" ",k=l)}a.fillText(k,h,c+f*g);g++}return a};return a}();e.exports=a}),null);
__d("CanvasVideoThumbnail",["Promise","EventListener","VideoThumbnail","canvasToBlob","promiseDone"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c,d,e,f,g,h){__p&&__p();var i;e===void 0&&(e=null);f===void 0&&(f=null);g===void 0&&(g=0);h===void 0&&(h=0);i=a.call(this,null)||this;i.$CanvasVideoThumbnail1=b;i.$CanvasVideoThumbnail2=c;i.$CanvasVideoThumbnail3=d;i.$CanvasVideoThumbnail4=e;i.$CanvasVideoThumbnail5=f;i.$CanvasVideoThumbnail6=g;i.$CanvasVideoThumbnail7=h;return i}var d=c.prototype;d.getTime=function(){return this.$CanvasVideoThumbnail3?this.$CanvasVideoThumbnail3:0};d.getURL=function(){this.$CanvasVideoThumbnail8||(this.$CanvasVideoThumbnail8=this.$CanvasVideoThumbnail1.toDataURL("image/jpeg"));return this.$CanvasVideoThumbnail8};d.getData=function(){var a=this,c=document.createElement("canvas"),d=c.getContext("2d"),e=this.$CanvasVideoThumbnail2;return new(b("Promise"))(function(f,g){var h=b("EventListener").listen(e,"seeked",function(){h.remove(),a.$CanvasVideoThumbnail9(c,d),b("promiseDone")(b("canvasToBlob")(c,"image/jpeg").then(f,g))});e.currentTime=a.$CanvasVideoThumbnail3})};d.getDataWithText=function(a,c,d,e,f,g,h,i){var j=this,k=document.createElement("canvas"),l=k.getContext("2d"),m=this.$CanvasVideoThumbnail2;return new(b("Promise"))(function(n,o){var p=b("EventListener").listen(m,"seeked",function(){p.remove(),l.fillStyle=h,l.textAlign=i,j.$CanvasVideoThumbnail9(k,l),l=b("VideoThumbnail").addTextToCanvasContext(l,a,c,d,e,f,g,h,i),b("promiseDone")(b("canvasToBlob")(k,"image/jpeg").then(n,o))});m.currentTime=j.$CanvasVideoThumbnail3})};d.$CanvasVideoThumbnail9=function(a,b){var c=this.$CanvasVideoThumbnail2;this.$CanvasVideoThumbnail4||this.$CanvasVideoThumbnail5?(a.width=this.$CanvasVideoThumbnail4?this.$CanvasVideoThumbnail4:c.videoWidth,a.height=this.$CanvasVideoThumbnail5?this.$CanvasVideoThumbnail5:c.videoHeight,this.$CanvasVideoThumbnail10(a,b)):(a.width=c.videoWidth,a.height=c.videoHeight,b.drawImage(c,0,0,a.width,a.height))};d.$CanvasVideoThumbnail10=function(a,b){var c=this.$CanvasVideoThumbnail2,d=this.$CanvasVideoThumbnail6,e=this.$CanvasVideoThumbnail7,f=this.$CanvasVideoThumbnail4?this.$CanvasVideoThumbnail4:a.width,g=this.$CanvasVideoThumbnail5?this.$CanvasVideoThumbnail5:a.height;b.drawImage(c,d,e,f,g,0,0,a.width,a.height)};return c}(b("VideoThumbnail"));e.exports=a}),null);
__d("generateVideoThumbnails",["Promise","requireCond","CanvasVideoThumbnail","cr:909281","HTMLMediaElementReadyStates","VideoFrameBuffer"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c,d,e,f,k,l,m,n){__p&&__p();f===void 0&&(f="contain");k===void 0&&(k=0);l===void 0&&(l=null);m===void 0&&(m=null);n===void 0&&(n=null);return new(b("Promise"))(function(o,p){__p&&__p();var q,r=document.createElement("canvas"),s=[],t=0,u=(a.duration-k)/e,v=null,w,x,y=(q=m)!=null?q:g(l,c),z=(q=n)!=null?q:h(l,d),A=i(l,c),B=j(l,d);w=new(b("VideoFrameBuffer"))(r,a,f,y,z,A,B);r.width=(q=y)!=null?q:c;r.height=(q=z)!=null?q:d;var C=function(){w.updateFrameBuffer();var c=new(b("CanvasVideoThumbnail"))(r,a,k+(t-1)*u,y,z,A,B);s.push(c);(!v||c.getURL().length>v.getURL().length)&&(v=c);E()},D=function(){if(a.readyState>=b("HTMLMediaElementReadyStates").HAVE_CURRENT_DATA)C();else if(b("cr:909281")!==null)var c=b("cr:909281").listen(a,"loadeddata",function(){c.remove(),C()});else a.addEventListener("loadeddata",C,{once:!0})},E=function(){t===0&&(b("cr:909281")!==null?x=b("cr:909281").listen(a,"seeked",D):a.addEventListener("seeked",D)),t<e?(a.currentTime=k+t*u,t++):(b("cr:909281")!==null?x&&x.remove():a.removeEventListener("seeked",D),o({thumbnails:s,selectedThumbnail:v}))};if(a.videoWidth===0||a.videoHeight===0){p();return}E()})}function g(a,b){if(a&&a.spherical){if(a.stereoMode==="left-right")return b/2;if(a.projectionType==="cubemap")return b/3}return null}function h(a,b){return a&&a.spherical&&(a.stereoMode==="top-bottom"||a.projectionType==="cubemap")?b/2:null}function i(a,b){return a&&a.spherical&&a.projectionType==="cubemap"?b/3:0}function j(a,b){return a&&a.spherical&&a.projectionType==="cubemap"?b/2:0}e.exports=a}),null);
__d("VideoUploadFeatureDetector",["UserAgent_DEPRECATED","fileSlice"],(function(a,b,c,d,e,f){a={supportsChunking:function(){return typeof b("fileSlice")==="function"&&this.supportsXHR()},supportsFullProgress:function(){return!b("UserAgent_DEPRECATED").firefox()},supportsFileAPI:function(){return"FileList"in window},supportsFileReading:function(){return"FileReader"in window&&"DataView"in window},supportsXHR:function(){return"FormData"in window}};e.exports=a}),null);
__d("VideoUploadFile",["VideoUploadFeatureDetector","fileSlice"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,b,c,d){this.$1=a,this.$2=b,this.$3=c,this.$4=d}a.fromBlob=function(b){var c=b.type.indexOf("/")!=-1?"."+b.type.split("/").pop().toLowerCase():"";c="blob"+c;c=new File([b],c,{type:b.type});return a.fromFile(c)};a.fromFile=function(b){var c=a.getExtensionFromFileName(b.name);return new this(null,b,b.size,c)};a.fromFileInput=function(c){var d=null,e=null,f=a.getExtensionFromFileInput(c);b("VideoUploadFeatureDetector").supportsFileAPI()&&c.files.length&&(d=c.files[0],e=d.size);return new this(c,d,e,f)};var c=a.prototype;c.getFileInput=function(){return this.$1};c.getFile=function(){return this.$2};c.getSize=function(){return this.$3};c.getExtension=function(){return this.$4};c.getCreatorProduct=function(){return this.$4==="gif"?4:2};c.getChunk=function(a,c){return this.$2?b("fileSlice").call(this.$2,a,c):null};a.getExtensionFromFileInput=function(a){return this.getExtensionFromFileName(a.value)};a.getExtensionFromFileName=function(a){return a.indexOf(".")!=-1?a.split(".").pop().toLowerCase():""};return a}();e.exports=a}),null);
__d("VideoUploadProgressBar",["cx","CSS","VideoUploadFeatureDetector"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$1=a.progress_bar,this.$2=a.throbber,this.$3=a.uploader,this.$4=a.start_margin,this.$5=a.start_delay,this.$6=a.end_margin,this.$7=a.end_delay,this.$8=a.progress_bar_label,this.$9()}var c=a.prototype;c.reset=function(){this.$1.setPosition(0)};c.getRoot=function(){return this.$1.getRoot()};a.computeProgress=function(a,b,c,d,e){a=Math.min(a+b,c);return a/c*(100-d-e)+d};c.$9=function(){b("VideoUploadFeatureDetector").supportsFileAPI()?(this.$3.subscribe("upload-requested",this.$10.bind(this)),this.$3.subscribe("upload-progressed",this.$11.bind(this)),this.$3.subscribe("online",this.$12.bind(this)),this.$3.subscribe("offline",this.$13.bind(this))):this.$3.subscribe("upload-requested",this.$14.bind(this))};c.$10=function(){b("CSS").show(this.$1.getRoot()),b("CSS").removeClass(this.$1.getRoot(),"_5r5a"),this.$1.setTarget(this.$4,this.$5),this.$15(0)};c.$15=function(a){this.$8&&this.$1.changeLabel(""+a.toFixed(1)+"%")};c.$11=function(c,d){b("CSS").removeClass(this.$1.getRoot(),"_5r5a");c=a.computeProgress(d.start_offset,d.sent_bytes,d.file_size,this.$4,this.$6);this.$1.setPosition(c);this.$15(c);c>=100-this.$6&&(this.$1.setTarget(100,this.$7),this.$15(100))};c.$12=function(){b("CSS").removeClass(this.$1.getRoot(),"_5r5a")};c.$13=function(){b("CSS").addClass(this.$1.getRoot(),"_5r5a")};c.$14=function(){b("CSS").show(this.$2)};return a}();e.exports=a}),null);
__d("VideoLibraryButton.react",["cx","fbt","React","XPagesManagerPublishingToolsController","XUIDialogButton.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){return b("XPagesManagerPublishingToolsController").getURIBuilder().setString("page_token",this.props.pageID).setString("section","VIDEOS").setEnum("source",this.props.source).setEnum("refSource",this.props.refSource).getURI()};d.$2=function(){this.$1().go()};d.render=function(){return b("React").jsx(b("XUIDialogButton.react"),{action:"cancel",className:"_2bhc",label:h._("Biblioteca de videos"),size:this.props.size,onClick:this.$2.bind(this)})};return c}(b("React").Component);a.defaultProps={size:"small"};e.exports=a}),null);
__d("FBToggleSwitch.react",["cx","AbstractCheckboxInput.react","React","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){c.props.onToggle&&c.props.disabled!==!0&&c.props.onToggle(a.target.checked)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a="_ypo"+(this.props.animate?" _ypp":"")+(this.props.disabled?" _ypq":"")+(this.props.size==="large"?" _1dfi":""),c,d;this.props.indeterminate===!0?d=this.props.checked:c=this.props.checked;return b("React").jsx(b("AbstractCheckboxInput.react"),babelHelpers["extends"]({},this.props,{checked:c,className:b("joinClasses")(this.props.className,a),defaultChecked:d,onChange:this.$1,children:void 0}))};return c}(b("React").Component);a.propTypes={animate:(c=b("prop-types")).bool,indeterminate:c.bool,onToggle:c.func,disabled:c.bool,tooltip:c.oneOfType([c.node,c.string]),size:c.oneOf(["normal","large"])};e.exports=a}),null);
__d("dotAccess",[],(function(a,b,c,d,e,f){function a(a,b,c){b=b.split(".");do{var d=b.shift();a=a[d]||c&&(a[d]={})}while(b.length&&a);return a}e.exports=a}),null);
__d("submitForm",["DOM"],(function(a,b,c,d,e,f){"use strict";a=function(a){var c=a.querySelector('input[type="submit"]');c!=null?c.click():(c=b("DOM").create("input",{type:"submit",className:"hidden_elem"}),b("DOM").appendContent(a,c),c.click(),b("DOM").remove(c))};e.exports=a}),null);
__d("SlideshowFlowTypes",[],(function(a,b,c,d,e,f){"use strict";a={SETTINGS_TAB:"SETTINGS_TAB",MUSIC_TAB:"MUSIC_TAB",FRAMES_TAB:"FRAMES_TAB"};e.exports={SlideshowTabKey:a}}),null);
__d("XVideoPermalinkController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/{vanity}/videos/{?set_token}/{video_id}/{?story_token}/",{photo_id:{type:"Int"},set_token:{type:"String"},type:{type:"Enum",defaultValue:3,enumType:0},link_share:{type:"String"},subject:{type:"Int"},object_id:{type:"Int"},opaque_cursor:{type:"String"},legacy_user_id:{type:"Int"},legacy_photo_id:{type:"Int"},video_id:{type:"Int"},comment_id:{type:"Int"},notif_t:{type:"String"},is_notification_preview:{type:"Bool",defaultValue:!1},force_theater:{type:"Bool",defaultValue:!1},story_token:{type:"String"},vanity:{type:"String"},__tn__:{type:"String"},t:{type:"Int"},flite:{type:"String"},__so__:{type:"Enum",enumType:1},__rv__:{type:"Enum",enumType:1},redirect:{type:"Bool",defaultValue:!0},reply_comment_id:{type:"Int"}})}),null);