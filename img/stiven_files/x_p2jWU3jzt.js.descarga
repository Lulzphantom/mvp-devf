if (self.CavalryLogger) { CavalryLogger.start_js(["AJCYR"]); }

__d("XUIDialogHeader.react",["cx","fbt","React","XUICardHeader.react","XUICloseButton.react","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=null;this.props.showCloseButton===!0&&(a=b("React").jsx(b("XUICloseButton.react"),{label:this.props.closeButtonText,className:"layerCancel _51-t"}));return b("React").jsx(b("XUICardHeader.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"_4-i0"),link:a,type:"primary",children:this.props.children}))};return c}(b("React").Component);a.defaultProps={closeButtonText:h._("Cerrar"),onTabClick:function(){return!0},showCloseButton:!0};e.exports=a}),null);
__d("JadeClientTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:JadeClientLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:JadeClientLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:JadeClientLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppSessionID=function(a){this.$1.app_session_id=a;return this};c.setAppID=function(a){this.$1.appid=a;return this};c.setAppversion=function(a){this.$1.appversion=a;return this};c.setClientUserID=function(a){this.$1.client_userid=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setCountry=function(a){this.$1.country=a;return this};c.setDeviceid=function(a){this.$1.deviceid=a;return this};c.setEntrypointPostID=function(a){this.$1.entrypoint_post_id=a;return this};c.setEntrypointScreen=function(a){this.$1.entrypoint_screen=a;return this};c.setEntrypointUnit=function(a){this.$1.entrypoint_unit=a;return this};c.setExtraClientData=function(a){this.$1.extra_client_data=a;return this};c.setGroupID=function(a){this.$1.group_id=a;return this};c.setInterface=function(a){this.$1["interface"]=a;return this};c.setName=function(a){this.$1.name=a;return this};c.setScreen=function(a){this.$1.screen=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setUnit=function(a){this.$1.unit=a;return this};c.setUserPayProduct=function(a){this.$1.user_pay_product=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={app_session_id:!0,appid:!0,appversion:!0,client_userid:!0,clienttime:!0,country:!0,deviceid:!0,entrypoint_post_id:!0,entrypoint_screen:!0,entrypoint_unit:!0,extra_client_data:!0,group_id:!0,"interface":!0,name:!0,screen:!0,time:!0,unit:!0,user_pay_product:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("TreehengeClientTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:TreehengeClientLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:TreehengeClientLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:TreehengeClientLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAcquisitionFlowState=function(a){this.$1.acquisition_flow_state=a;return this};c.setAppSessionID=function(a){this.$1.app_session_id=a;return this};c.setAppID=function(a){this.$1.appid=a;return this};c.setAppversion=function(a){this.$1.appversion=a;return this};c.setClientUserID=function(a){this.$1.client_userid=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setCountry=function(a){this.$1.country=a;return this};c.setCreatorPageID=function(a){this.$1.creator_page_id=a;return this};c.setDeviceid=function(a){this.$1.deviceid=a;return this};c.setEntrypointReferralSurface=function(a){this.$1.entrypoint_referral_surface=a;return this};c.setEntrypointSurface=function(a){this.$1.entrypoint_surface=a;return this};c.setEventData=function(a){this.$1.event_data=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setInterface=function(a){this.$1["interface"]=a;return this};c.setIsFollower=function(a){this.$1.is_follower=a;return this};c.setIsSupporter=function(a){this.$1.is_supporter=a;return this};c.setName=function(a){this.$1.name=a;return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setPostIDRaw=function(a){this.$1.post_id_raw=a;return this};c.setRawExtraData=function(a){this.$1.raw_extra_data=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setReferralSurface=function(a){this.$1.referral_surface=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setSurface=function(a){this.$1.surface=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={acquisition_flow_state:!0,app_session_id:!0,appid:!0,appversion:!0,client_userid:!0,clienttime:!0,country:!0,creator_page_id:!0,deviceid:!0,entrypoint_referral_surface:!0,entrypoint_surface:!0,event_data:!0,"interface":!0,is_follower:!0,is_supporter:!0,name:!0,page_id:!0,post_id_raw:!0,raw_extra_data:!0,referral_surface:!0,session_id:!0,surface:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("WoodhengeCreatorTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:WoodhengeCreatorLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:WoodhengeCreatorLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:WoodhengeCreatorLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.appid=a;return this};c.setAppversion=function(a){this.$1.appversion=a;return this};c.setClientUserID=function(a){this.$1.client_userid=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setCountry=function(a){this.$1.country=a;return this};c.setDeviceid=function(a){this.$1.deviceid=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setException=function(a){this.$1.exception=a;return this};c.setHashtags=function(a){this.$1.hashtags=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setInterface=function(a){this.$1["interface"]=a;return this};c.setIsAutoLiveSelected=function(a){this.$1.is_auto_live_selected=a;return this};c.setName=function(a){this.$1.name=a;return this};c.setNotifRecipientIds=function(a){this.$1.notif_recipient_ids=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setOnboardingStepResult=function(a){this.$1.onboarding_step_result=a;return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setPostID=function(a){this.$1.post_id=a;return this};c.setSessionid=function(a){this.$1.sessionid=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={appid:!0,appversion:!0,client_userid:!0,clienttime:!0,country:!0,deviceid:!0,event:!0,exception:!0,hashtags:!0,"interface":!0,is_auto_live_selected:!0,name:!0,notif_recipient_ids:!0,onboarding_step_result:!0,page_id:!0,post_id:!0,sessionid:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("ReactComposerSupportNowActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){e.exports=b("keyMirrorRecursive")({INITIALIZE:null,LOAD_ATTACHMENT:null,REMOVE_ATTACHMENT:null,SET_SUPPORTER_GOAL:null,SET_GOAL_DIALOG_STATUS:null,ON_ATTACHMENT_LOADED:null,ON_ATTACHMENT_REMOVED:null},"ReactComposerSupportNowActionType")}),null);
__d("ReactComposerSupportNowStore",["JadeClientTypedLogger","ReactComposerStoreBase","ReactComposerSupportNowActionType","ReactComposerTaggerActions","ReactComposerTaggerType","TreehengeClientTypedLogger","WoodhengeCreatorTypedLogger"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;c=a.call(this,function(){return{composerID:null,attachmentFetched:!1,actorType:null,isFetching:!1,hasFreeTrial:!1,profileName:"",supporterGoal:null,pagePayload:null,composerSource:"SPROUT",goalDialogStatus:"IDLE",profileID:""}},function(a){__p&&__p();switch(a.type){case b("ReactComposerSupportNowActionType").INITIALIZE:d&&d.$ReactComposerSupportNowStore1(a);break;case b("ReactComposerSupportNowActionType").LOAD_ATTACHMENT:d&&d.$ReactComposerSupportNowStore2(a);break;case b("ReactComposerSupportNowActionType").REMOVE_ATTACHMENT:d&&d.$ReactComposerSupportNowStore3(a);break;case b("ReactComposerSupportNowActionType").SET_SUPPORTER_GOAL:d&&d.$ReactComposerSupportNowStore4(a);break;case b("ReactComposerSupportNowActionType").SET_GOAL_DIALOG_STATUS:d&&d.$ReactComposerSupportNowStore5(a);break;case b("ReactComposerSupportNowActionType").ON_ATTACHMENT_LOADED:d&&d.$ReactComposerSupportNowStore6(a);break;case b("ReactComposerSupportNowActionType").ON_ATTACHMENT_REMOVED:d&&d.$ReactComposerSupportNowStore7(a);break}})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.getAttachmentFetched=function(a){return this.getComposerData(a).attachmentFetched};d.getActorType=function(a){return this.getComposerData(a).actorType};d.isFetching=function(a){return this.getComposerData(a).isFetching};d.hasFreeTrial=function(a){return this.getComposerData(a).hasFreeTrial};d.getProfileName=function(a){return this.getComposerData(a).profileName};d.getPagePayload=function(a){return this.getComposerData(a).pagePayload};d.getSupporterGoal=function(a){return this.getComposerData(a).supporterGoal};d.getComposerSource=function(a){return this.getComposerData(a).composerSource};d.getGoalDialogStatus=function(a){return this.getComposerData(a).goalDialogStatus};d.getProfileID=function(a){return this.getComposerData(a).profileID};d.$ReactComposerSupportNowStore1=function(a){__p&&__p();a=this.validateAction(a,["composerID","profileID","composerSource","actorType"]);var b=a[0],c=a[1],d=a[2];a=a[3];var e=this.getComposerData(b);e.isFetching=!0;e.composerID=b;e.composerSource=d;e.profileID=c;e.actorType=a;this.emitChange(b)};d.$ReactComposerSupportNowStore2=function(a){a=this.validateAction(a,["composerID","hasFreeTrial","profileName","pagePayload","supporterGoal"]);var b=a[0],c=a[1],d=a[2],e=a[3];a=a[4];Object.assign(this.getComposerData(b),{composerID:b,hasFreeTrial:c,profileName:d,pagePayload:e,supporterGoal:a});this.emitChange(b);this.__setDataInTagger(b,a)};d.$ReactComposerSupportNowStore3=function(a){a=this.validateAction(a,["composerID"]);var b=this.getComposerData(a);b.attachmentFetched=!1;b.isFetching=!1;this.logRemoval(a);this.emitChange(a)};d.$ReactComposerSupportNowStore6=function(a){a=this.validateAction(a,["composerID"]);Object.assign(this.getComposerData(a),{isFetching:!1,attachmentFetched:!0});this.emitChange(a)};d.$ReactComposerSupportNowStore7=function(a){a=this.validateAction(a,["composerID"]);Object.assign(this.getComposerData(a),{isFetching:!1});b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(a,b("ReactComposerTaggerType").SUPPORT_NOW,{hasSupportNowCTA:!1});this.emitChange(a)};d.$ReactComposerSupportNowStore4=function(a){a=this.validateAction(a,["composerID","supporterGoal"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.supporterGoal=a;c.composerID=b;this.__setDataInTagger(b,a);this.emitChange(b)};d.$ReactComposerSupportNowStore5=function(a){a=this.validateAction(a,["composerID","goalDialogStatus"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.goalDialogStatus=a;c.composerID=b;this.emitChange(b)};d.getUserFundingAttachmentType=function(a,b){a=this.getActorType(a);if(a==="treehenge")return"treehenge_support_admin";else if(a==="jade")return"jade_support_group";else if(a==="woodhenge")return b===null?"fan_funding_support_now":"fan_funding_supporter_goal";return"none"};d.__setDataInTagger=function(a,c){b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(a,b("ReactComposerTaggerType").SUPPORT_NOW,Object.assign({},{hasSupportNowCTA:!0},{fanFundingPromotionPayload:c==null?{type:"support_now"}:{type:"supporter_goal",supporter_goal_id:c.id}},{userFundingAttachmentType:this.getUserFundingAttachmentType(a,c)}))};d.logRemoval=function(a){switch(this.getActorType(a)){case"woodhenge":this.logWoodhengeRemoval(a);break;case"treehenge":this.logTreehengeRemoval(a);break;case"jade":this.logJadeRemoval(a);break;default:break}};d.logWoodhengeRemoval=function(a){var c=this.getSupporterGoal(a)==null?"creator_dismiss_support_now_tagger":"creator_dismiss_supporter_goal_tagger";new(b("WoodhengeCreatorTypedLogger"))().setEvent(c).setPageID(this.getProfileID(a)).addToExtraData("source",this.getComposerSource(a)).log()};d.logTreehengeRemoval=function(a){new(b("TreehengeClientTypedLogger"))().setName("funding_admin_dismiss_support_now_tagger").setRawExtraData({master_group_id:this.getProfileID(a)}).log()};d.logJadeRemoval=function(a){new(b("JadeClientTypedLogger"))().setName("funding_admin_dismiss_support_now_tagger").setGroupID(this.getProfileID(a)).log()};return c}(b("ReactComposerStoreBase"));e.exports=new a()}),null);
__d("XReactComposerSupportNowAttachmentBootstrapController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/support_now/bootstrap/",{composer_id:{type:"String",required:!0},profile_id:{type:"String"},page_id:{type:"String"}})}),null);
__d("ReactComposerSupportNowActions",["ActorURI","AsyncRequest","JadeClientTypedLogger","ReactComposerDispatcher","ReactComposerSupportNowActionType","ReactComposerSupportNowStore","TreehengeClientTypedLogger","XReactComposerSupportNowAttachmentBootstrapController"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.onSelect=function(c,d,e,f){var g=b("ReactComposerSupportNowStore").getAttachmentFetched(c),h=b("ReactComposerSupportNowStore").isFetching(c);h?a.request&&a.request.abort():(f==="treehenge"?this.logTreehengeSproutClick(g,d):f==="jade"&&this.logJadeSproutClick(g,d),g?this.removeAttachment(c):this.initialize(c,d,e,f))};c.initialize=function(c,d,e,f){__p&&__p();var g=this;e={composerID:c,profileID:d,composerSource:e,actorType:f,type:b("ReactComposerSupportNowActionType").INITIALIZE};f=b("XReactComposerSupportNowAttachmentBootstrapController").getURIBuilder().setString("composer_id",c).setString("profile_id",d);f=b("ActorURI").create(f.getURI(),d);a.request=new(b("AsyncRequest"))(f).setHandler(function(){return g.onAttachementLoaded(c)}).setErrorHandler(function(){return g.onAttachementRemoved(c)}).setAbortHandler(function(){return g.onAttachementRemoved(c)});a.request.send();b("ReactComposerDispatcher").dispatch(e)};c.loadAttachment=function(a,c,d,e,f){a={composerID:a,hasFreeTrial:c,profileName:d,pagePayload:e,supporterGoal:f,type:b("ReactComposerSupportNowActionType").LOAD_ATTACHMENT};b("ReactComposerDispatcher").dispatch(a)};c.removeAttachment=function(a){var c={composerID:a,type:b("ReactComposerSupportNowActionType").REMOVE_ATTACHMENT};b("ReactComposerDispatcher").dispatch(c);this.onAttachementRemoved(a)};c.onAttachementLoaded=function(a){a={composerID:a,type:b("ReactComposerSupportNowActionType").ON_ATTACHMENT_LOADED};b("ReactComposerDispatcher").dispatch(a)};c.onAttachementRemoved=function(a){a={composerID:a,type:b("ReactComposerSupportNowActionType").ON_ATTACHMENT_REMOVED};b("ReactComposerDispatcher").dispatch(a)};c.setSupporterGoal=function(a,c){a={composerID:a,supporterGoal:c,type:b("ReactComposerSupportNowActionType").SET_SUPPORTER_GOAL};b("ReactComposerDispatcher").dispatch(a)};c.setGoalDialogStatus=function(a,c){a={composerID:a,goalDialogStatus:c,type:b("ReactComposerSupportNowActionType").SET_GOAL_DIALOG_STATUS};b("ReactComposerDispatcher").dispatch(a)};c.logTreehengeSproutClick=function(a,c){new(b("TreehengeClientTypedLogger"))().setName("funding_admin_support_now_sprout_click").setRawExtraData({master_group_id:c,attachment_added:a?"false":"true"}).log()};c.logJadeSproutClick=function(a,c){new(b("JadeClientTypedLogger"))().setName("funding_admin_support_now_sprout_click").setGroupID(c).setUserPayProduct("jade").setExtraClientData(JSON.stringify({attachment_added:!a})).log()};return a}();e.exports=new a()}),null);
__d("ReactComposerSupportNowAttachmentContainer.react",["cx","fbt","FluxContainer","JSResource","React","ReactComposerContextTypes","ReactComposerLoggingName","ReactComposerSupportNowActions","ReactComposerSupportNowStore","ReactComposerTaggerActions","XUISpinner.react","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("lazyLoadComponent")(b("JSResource")("GroupComposerSupportNowCTATaggerBanner.react").__setRef("ReactComposerSupportNowAttachmentContainer.react")),j=b("lazyLoadComponent")(b("JSResource")("PageComposerSupportNowCTATaggerBanner.react").__setRef("ReactComposerSupportNowAttachmentContainer.react")),k=b("lazyLoadComponent")(b("JSResource")("PageComposerSupporterGoalTaggerBanner.react").__setRef("ReactComposerSupportNowAttachmentContainer.react")),l=function(){return b("React").jsxs("div",{className:"_jg1 _239z",children:[b("React").jsx(b("XUISpinner.react"),{background:"light",size:"large"}),h._("Recuperando vista previa")]})};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("ReactComposerTaggerActions").deselectCurrentTagger(d.context.composerID,b("ReactComposerLoggingName").SUPPORT_NOW_TAGGER),b("ReactComposerSupportNowActions").removeAttachment(d.context.composerID)},d.$2=function(a){b("ReactComposerSupportNowActions").setSupporterGoal(d.context.composerID,a),d.$3("IDLE")},d.$3=function(a){b("ReactComposerSupportNowActions").setGoalDialogStatus(d.context.composerID,a)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("ReactComposerSupportNowStore")]};c.calculateState=function(a,c,d){a=d.composerID;return{attachmentFetched:(c=b("ReactComposerSupportNowStore")).getAttachmentFetched(a),actorType:c.getActorType(a),isFetching:c.isFetching(a),goalDialogStatus:c.getGoalDialogStatus(a),supporterGoal:c.getSupporterGoal(a),pagePayload:c.getPagePayload(a),composerSource:c.getComposerSource(a),hasFreeTrial:c.hasFreeTrial(a),profileName:c.getProfileName(a)}};var d=c.prototype;d.renderTreehengeAttachment=function(){var a;return(a=b("React")).jsx("div",{className:"_7z33",children:a.jsx("div",{className:"_3-8o",children:a.jsx(a.Suspense,{fallback:a.jsx(l,{}),children:a.jsx(i,{onCloseButtonClick:this.$1,groupName:this.state.profileName,actorType:"treehenge"})})})})};d.renderJadeAttachment=function(){var a;return(a=b("React")).jsx("div",{className:"_7z33",children:a.jsx("div",{className:"_3-8o",children:a.jsx(a.Suspense,{fallback:a.jsx(l,{}),children:a.jsx(i,{onCloseButtonClick:this.$1,groupName:this.state.profileName,actorType:"jade"})})})})};d.renderWoodhengeAttachment=function(a,c,d,e,f,g){return b("React").jsx("div",{className:"_7z33"+(a==="VIDEO_COMPOSER"?" _7z34":""),children:b("React").jsx("div",{className:a==="SPROUT"?"_3-8o":"",children:b("React").jsx(b("React").Suspense,{fallback:b("React").jsx(l,{}),children:c!=null?b("React").jsx(k,{onCloseButtonClick:this.$1,hasFreeTrial:d,pageName:e,supporterGoal:c,pagePayload:g}):b("React").jsx(j,{onCloseButtonClick:this.$1,onPublishGoal:this.$2,goalDialogStatus:f,updateGoalDialogStatus:this.$3,hasFreeTrial:d,pageName:e,pagePayload:g,composerSource:a})})})})};d.render=function(){var a=this.state,c=a.isFetching,d=a.attachmentFetched,e=a.actorType,f=a.supporterGoal,g=a.pagePayload,h=a.hasFreeTrial,i=a.profileName,j=a.composerSource;a=a.goalDialogStatus;if(c)return b("React").jsx(l,{});if(!d)return null;if(e==="jade")return this.renderJadeAttachment();return e==="treehenge"?this.renderTreehengeAttachment():this.renderWoodhengeAttachment(j,f,h,i,a,g)};return c}(b("React").PureComponent);a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ImageExif",["exif-js"],(function(a,b,c,d,e,f){__p&&__p();b("exif-js").enableXmp();function g(a){__p&&__p();var b=function(b){return a.charCodeAt(b)&255};this.getByteAt=b;this.getShortAt=function(a,b){a=this.getSShortAt(a,b);return a>0?a:a+65536};this.getSShortAt=function(a,c){var d=b(a);a=b(a+1);return c?(d<<8)+a:(a<<8)+d};this.getLongAt=function(a,b){a=this.getSLongAt(a,b);return a>0?a:a+4294967296};this.getSLongAt=function(a,c){var d=b(a),e=b(a+1),f=b(a+2);a=b(a+3);return c?(((d<<8)+e<<8)+f<<8)+a:(((a<<8)+f<<8)+e<<8)+d};this.getStringAt=function(b,c){return a.substr(b,c)};this.getLength=function(){return a.length}}a={readFromFile:function(a,b){var c=this,d=new FileReader();d.addEventListener("load",function(a){a=a.target.result;a=a instanceof ArrayBuffer?c.readFromArrayBuffer(a):c.readFromBinaryString(a);b(a)},!1);window.DataView?d.readAsArrayBuffer(a):d.readAsBinaryString(a)},readFromBinaryString:function(a){return b("exif-js").readFromBinaryFile(new g(a))},readFromArrayBuffer:function(a){return b("exif-js").readFromBinaryFile(a)}};e.exports=a}),null);
__d("StringEncoding",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){__p&&__p();a=new Uint8Array(a);var c=0,d=[];while(c<a.length){var e=a[c],f=void 0;if(e>>7===0)f=1;else if(e>>5===6)e&=31,f=2;else if(e>>4===14)e&=15,f=3;else if(e>>3===30)e&=7,f=4;else if(e>>2===62)e&=3,f=5;else if(e>>1===126)e&=1,f=6;else throw new Error("Cannot decode as UTF-8 - unrecognised codepoint header");if(c+f>a.length)throw new Error("Cannot decode as UTF-8 - incomplete codepoint");for(var g=1;g<f;g++){var h=a[c+g];if(h>>6!==2)throw new Error("Cannot decode as UTF-8 - unrecognised codepoint subsequent byte");h&=63;e<<=6;e|=h}if(e>1114111)throw new Error("Cannot decode as UTF-8 - JavaScript doesn't support codepoints over 0x10FFFF");if(!e)switch(b){case"error":throw new Error("Cannot decode as UTF-8 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(e);c+=f}return String.fromCodePoint.apply(String,d)}function g(a){return(a&255)<<8|a>>8}function b(a,b){__p&&__p();if(a.byteLength%2!==0)throw new Error("Cannot decode as UTF-16 - data length mod 2 != 0");a=new Uint16Array(a);var c=0,d=[],e=!1;a[0]===65279?++c:a[0]==65534&&(++c,e=!0);while(c<a.length){var f=a[c];e&&(f=g(f));var h=f;if(f>55295&&f<57344){if((f&64512)!==55296)throw new Error("Cannot decode as UTF-16 - incorrect signature for high surrogate");if(c+1>=a.length)throw new Error("Cannot decode as UTF-16 - incomplete codepoint");++c;var i=a[c];e&&(i=g(i));if((i&64512)!==56320)throw new Error("Cannot decode as UTF-16 - incorrect signature for low surrogate");h=((f&1023)<<10|i&1023)+65536}if(!h)switch(b){case"error":throw new Error("Cannot decode as UTF-16 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(h);++c}return String.fromCodePoint.apply(String,d)}function h(a){return(a&255)<<24|(a&255<<8)<<8|(a&255<<16)>>8|a>>>24}function c(a,b){__p&&__p();if(a.byteLength%4!==0)throw new Error("Cannot decode as UTF-32 - data length mod 4 != 0");a=new Uint32Array(a);var c=0,d=[],e=!1;a[0]===65279?++c:a[0]==4294836224&&(++c,e=!0);while(c<a.length){var f=a[c];e&&(f=h(f));if(f&2147483648)throw new Error("Cannot decode as UTF-32 - invalid codepoint");if(f>1114111)throw new Error("Cannot decode as UTF-32 - JavaScript doesn't support codepoints over 0x10FFFF");if(!f)switch(b){case"error":throw new Error("Cannot decode as UTF-32 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(f);++c}return String.fromCodePoint.apply(String,d)}var i={"utf-8":a,"utf-16":b,"utf-32":c};d=function(){__p&&__p();function a(a,b){__p&&__p();a?this.$1=a:this.$1=["utf-8","utf-16","utf-32"];b||(b="error");this.$2=b;for(var a=this.$1,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;this.$3(d)}}var b=a.prototype;b.getPrecedence=function(){return this.$1};b.decode=function(a){__p&&__p();var b=[];for(var c=this.$1,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f=this.$3(f);try{return f(a,this.$2)}catch(a){b.push(a)}}throw new Error(b.join(", "))};b.$3=function(a){var b=i[a];if(!b)throw new Error("Unknown encoding "+a);return b};return a}();e.exports.Decoder=d}),null);
__d("ImageMetadata",["regeneratorRuntime","Promise","ImageExif","StringEncoding","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=function(){__p&&__p();function c(a){this.$4="",this.$6=a,this.$7=new Uint8Array(a),this.$8()}var d=c.prototype;d.$8=function(){__p&&__p();var a=0;while(a<this.$7.length){a=this.$9(a);if(a===-1)return;var b=this.$7[a+1];b=g[b];if(!b)return;var c=b.length;c===void 0&&(c=this.$7[a+2]*256+this.$7[a+3]);this.$10(a,c,b);if(b.name==="SOS")return;a+=2+c}};d.$10=function(a,b,c){switch(c.name){case"APP1":this.$11(a+4,h)?(this.$1||(this.$1=a,this.$2=b),this.$12(a+4+h.length,b-2-h.length)):this.$11(a+4,i)?(this.$1=a,this.$2=b,this.$13(a+4+i.length,b-2-i.length)):this.$11(a+4,j)&&this.$14(a+4+j.length,b-2-j.length);break;case"SOF0":case"SOF1":case"SOF2":case"SOF3":case"SOF5":case"SOF6":case"SOF7":case"JPG":case"SOF9":case"SOF10":case"SOF11":case"SOF13":case"SOF14":case"SOF15":this.$15(a+4,b-2);break}};d.$15=function(a,b){b=this.$7[a+3]*256+this.$7[a+4];a=this.$7[a+1]*256+this.$7[a+2];b>0&&a>0&&(this.$5={x:b,y:a})};d.$12=function(a,c){__p&&__p();a=emptyFunction;try{emptyFunction=b("emptyFunction");c=b("ImageExif").readFromArrayBuffer(this.$6)||{}}finally{emptyFunction=a}a={};for(var d in c){var e=c[d];typeof e==="string"&&(e=e.trim());a[d.trim()]=e}this.$3=a};d.$13=function(a,c){var d=new(b("StringEncoding").Decoder)(null,"truncate");try{d=d.decode(this.$6.slice(a,a+c));this.$4=d}catch(a){return}};d.$14=function(a){};d.$11=function(a,b){var c=this;return b.split("").every(function(b){return c.$7[a++]===b.charCodeAt(0)})};d.$9=function(a){for(var a=a;a+1<this.$7.length;++a)if(this.$7[a]===255&&this.$7[a+1]!==0&&this.$7[a+1]!==255)return a;return-1};d.hasAPP1=function(){return Boolean(this.$1)};d.hasExif=function(){return Boolean(this.$3)};d.hasXMP=function(){return Boolean(this.$4)};d.hasSize=function(){return Boolean(this.$5)};d.getAPP1Location=function(){return!this.hasAPP1()?null:this.$1};d.getAPP1Length=function(){return!this.hasAPP1()?null:this.$2};d.getExif=function(){if(!this.$3)throw new Error("Image has no Exif data");return this.$3};d.getXMPString=function(){return this.$4};d.getSize=function(){if(!this.$5)throw new Error("Could not find size data?!");return this.$5};d.getBufferLength=function(){if(!this.$6)throw new Error("Do not find buffer data!");return this.$6.byteLength};c.genMetadataFromBlob=function(a){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.t0=c;d.next=3;return b("regeneratorRuntime").awrap(c.$16(a));case 3:d.t1=d.sent;return d.abrupt("return",new d.t0(d.t1));case 5:case"end":return d.stop()}},null,this)};c.$16=function(c){return new(b("Promise"))(function(b,d){var e=new a.FileReader();e.onabort=d;e.onerror=d;e.onload=b;e.readAsArrayBuffer(c)})};return c}();var g=[];g[216]={name:"SOI",length:0};g[192]={name:"SOF0"};g[193]={name:"SOF1"};g[194]={name:"SOF2"};g[195]={name:"SOF3"};g[197]={name:"SOF5"};g[198]={name:"SOF6"};g[199]={name:"SOF7"};g[200]={name:"JPG"};g[201]={name:"SOF9"};g[202]={name:"SOF10"};g[203]={name:"SOF11"};g[205]={name:"SOF13"};g[206]={name:"SOF14"};g[207]={name:"SOF15"};g[196]={name:"DHT"};g[219]={name:"DQT"};g[221]={name:"DRI",length:2};g[218]={name:"SOS"};g[208]={name:"RST0",length:0};g[209]={name:"RST1",length:0};g[210]={name:"RST2",length:0};g[211]={name:"RST3",length:0};g[212]={name:"RST4",length:0};g[213]={name:"RST5",length:0};g[214]={name:"RST6",length:0};g[215]={name:"RST7",length:0};g[224]={name:"APP0"};g[225]={name:"APP1"};g[226]={name:"APP2"};g[227]={name:"APP3"};g[228]={name:"APP4"};g[229]={name:"APP5"};g[230]={name:"APP6"};g[231]={name:"APP7"};g[232]={name:"APP8"};g[233]={name:"APP9"};g[234]={name:"APP10"};g[235]={name:"APP11"};g[236]={name:"APP12"};g[237]={name:"APP13"};g[238]={name:"APP14"};g[239]={name:"APP15"};g[254]={name:"COM"};g[217]={name:"EOI",length:0};var h="Exif\0\0",i="http://ns.adobe.com/xap/1.0/\0",j="http://ns.adobe.com/xmp/extension/\0";e.exports=c}),null);
__d("XSphericalPhotoSphereMetadataAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/spherical_media/photo/metadata/",{})}),null);
__d("SphericalImageUtils",["Promise","ImageMetadata","XAsyncRequest","XSphericalPhotoSphereMetadataAsyncController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=2048;c={genArrayBufferFromBlob:function(c){__p&&__p();return new(b("Promise"))(function(b,d){if(a.FileReader){var e=new a.FileReader();e.onabort=d;e.onerror=d;e.onload=function(a){b(a.target.result)};e.readAsArrayBuffer(c)}else d(new Error("global.FileReader doesn't exit"))})},shouldCheckInServer:function(a){__p&&__p();if(!a.hasExif()&&!a.hasXMP()||!a.hasSize())return!1;var b=a.getXMPString();if(this.getMayContainSphericalMetadata(b))return!0;var c=a.getSize(),d=c.x;c=c.y;if(Math.max(d,c)<g||d/c<2&&c/d<2)return!1;c=a.hasExif()?a.getExif():{};return b===""&&(!c.Make||!c.Model)?!1:!0},genPhotosphereMetadata:function(a){var c=this;return new(b("Promise"))(function(d,e){c.genArrayBufferFromBlob(a).done(function(a){try{var f=new(b("ImageMetadata"))(a);c.shouldCheckInServer(f)?c.genPhotosphereMetadataFromServer(f.hasSize()?f.getSize():{x:0,y:0},f.getXMPString(),f.hasExif()?f.getExif():{}).done(function(a){a=a.payload;d({photoSphereMetadata:a,imageMetadata:f})},e):d({})}catch(a){a.__manual=!0,e(a)}},e)})},genPhotosphereMetadataFromServer:function(a,c,d){var e=this;return new(b("Promise"))(function(f,g){new(b("XAsyncRequest"))(b("XSphericalPhotoSphereMetadataAsyncController").getURIBuilder().getURI()).setMethod("POST").setData({exif_string:e.getExifString(d),height:a.y,width:a.x,xmp:c}).setHandler(f).setErrorHandler(g).send()})},getExifString:function(a){return JSON.stringify(a,function(a,b){return a==="FocalLength"&&b.numerator&&b.denominator?b.numerator+"/"+b.denominator:b})},getMayContainSphericalMetadata:function(a){return a!==""&&a.indexOf("GPano:")>-1}};e.exports=c}),null);
__d("SphericalImage",["regeneratorRuntime","SphericalImageUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="ProjectionType";a=function(){__p&&__p();function a(a){this.props=a}a.createFromBlob=function(a){var c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(b("SphericalImageUtils").genPhotosphereMetadata(a));case 2:c=d.sent;return d.abrupt("return",new this(c));case 4:case"end":return d.stop()}},null,this)};var c=a.prototype;c.isSpherical=function(){return Boolean(this.props.photoSphereMetadata)};c.getImageMetadata=function(){return this.props.imageMetadata};c.getPhotoSphereMetadata=function(){return this.props.photoSphereMetadata};c.getSize=function(){return this.props.imageMetadata?this.props.imageMetadata.getSize():null};c.getBufferLength=function(){return this.props.imageMetadata?this.props.imageMetadata.getBufferLength():null};c.getProjectionType=function(){var a="";this.props.photoSphereMetadata&&this.props.photoSphereMetadata[g]&&(a=this.props.photoSphereMetadata[g]);return a};return a}();e.exports=a}),null);
__d("SphericalPhotoUploadHelper",[],(function(a,b,c,d,e,f){"use strict";e.exports={shouldResize360:function(a,b,c){return b&&Math.max(b.x,b.y)<=c||a==="cubestrip"?!1:!0},shouldRecompress360:function(a,b,c){return b==null||b<=c||a==="cubestrip"?!1:!0}}}),null);
__d("XComposerPhotoUploader",["regeneratorRuntime","Promise","AsyncUploadRequest","FileInputUploader","JSLogger","PhotosMimeType","PhotosUploadID","ReactComposerMediaFilterUtils","SphericalImage","SphericalPhotoTypedConfig","SphericalPhotoUploadHelper","curry","emptyFunction","performanceNow","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("SphericalPhotoUploadHelper").shouldRecompress360,i=b("SphericalPhotoUploadHelper").shouldResize360,j=a.URL||a.webkitURL||{};c=function(){__p&&__p();function a(a){this.$2=a.uploadData||{},this.$1=a.uploadEndpoint,this.$3=a.retryLimit,this.$4=a.concurrentLimit,this.$5=a.resizer,this.$6=a.onUploadEnqueued||b("emptyFunction"),this.$7=a.onUploadsEnqueued||b("emptyFunction"),this.$8=a.onResizeStart||b("emptyFunction"),this.$11=a.onResizeProgress||b("emptyFunction"),this.$9=a.onResizeSuccess||b("emptyFunction"),this.$10=a.onResizeFailure||b("emptyFunction"),this.$12=a.onSphericalCheckFailure||b("emptyFunction"),this.$13=a.onSphericalCheckSuccess||b("emptyFunction"),this.$14=a.onUploadIsSpherical||b("emptyFunction"),this.$15=a.onUploadSent||b("emptyFunction"),this.$16=a.onUploadStart||b("emptyFunction"),this.$17=a.onUploadProgress||b("emptyFunction"),this.$18=a.onUploadSuccess||b("emptyFunction"),this.$19=a.onUploadFailure||b("emptyFunction"),this.$20=b("JSLogger").create("composer")}var c=a.prototype;c.setUploadEndpoint=function(a){this.$1=a};c.upload=function(a,c){__p&&__p();var d=this;c||0;c=Object.assign({},this.$2);var e=null;if(!this.$21(a)){var f=b("PhotosUploadID").getNewID();a.uploadID=f;c.upload_id=f;this.$6({uploadID:f,fileName:a.value.split("/").pop().split("\\").pop(),fileURL:j.createObjectURL?j.createObjectURL(a):null})}else{e=Array.from(a.files);e=e.filter(function(a){return!b("ReactComposerMediaFilterUtils").hasVideos([a.name])});if(e.length===0)return;e.forEach(function(a){a.uploadID||(a.uploadID=b("PhotosUploadID").getNewID()),d.$6({uploadID:a.uploadID,fileName:a.name,isSpherical:!1,fileURL:j.createObjectURL?j.createObjectURL(a):null})})}this.$7();f=new(b("FileInputUploader"))(a).setURI(this.$1).setData(c).setAllowCrossOrigin(!0).setNetworkErrorRetryLimit(this.$3).setUploadInParallel(!0);e&&e.length>0&&(f.setFiles({farr:e}),this.$5?f.setPreprocessHandler(this.$22.bind(this)):f.setPreprocessHandler(this.$23.bind(this)),this.$4&&f.setConcurrentLimit(this.$4));f.subscribe("progress",function(b,c){return d.$17(d.$24(c,a),c)});f.subscribe("failure",function(b,c){return d.$19(d.$24(c,a),c,e)});f.subscribe("start",function(b,c){return d.$16(d.$24(c,a),c)});f.subscribe("success",function(b,c){return d.$18(d.$24(c,a),c)});try{f.send(),this.$15(a)}catch(a){this.$20.error("error_send_unpublished_files",a);throw a}};c.uploadFiles=function(a){var c=this;a=Array.from(a);var d=[];a.forEach(function(a){var e=b("PhotosUploadID").getNewID();c.$6({fileName:a.name,fileURL:j.createObjectURL?j.createObjectURL(a):null,isSpherical:!1,uploadID:e});d.push(e)});a=this.getAsyncFileUploadRequest(a,d);a.send()};c.getAsyncFileUploadRequest=function(a,b,c){__p&&__p();var d=this;c=this.$25(a,c);c.subscribe("start",function(c,e){c=d.$26(a,b,e);d.$16(c,{upload:e})});c.subscribe("progress",function(c,e){c=d.$26(a,b,e);d.$17(c,{upload:e,event:e.getProgressEvent()})});c.subscribe("success",function(c,e){c=d.$26(a,b,e);d.$18(c,{upload:e,response:e.getResponse()})});c.subscribe("failure",function(c,e){c=d.$26(a,b,e);d.$19(c,{upload:e,response:e.getResponse()},a)});return c};c.getAsyncUploadRequest=function(a,b){__p&&__p();var c=this;b=this.$25(a,b);b.subscribe("start",function(a,b){return c.$16(b.getFile().uploadID,{upload:b})});b.subscribe("progress",function(a,b){return c.$17(b.getFile().uploadID,{upload:b,event:b.getProgressEvent()})});b.subscribe("success",function(a,b){return c.$18(b.getFile().uploadID,{upload:b,response:b.getResponse()})});b.subscribe("failure",function(b,d){return c.$19(d.getFile().uploadID,{upload:d,response:d.getResponse()},a)});return b};c.$25=function(a,c){c=new(b("AsyncUploadRequest"))().setData(Object.assign({},c&&c.data,this.$2)).setFiles({farr:a}).setAllowCrossOrigin(!0).setURI(this.$1);this.$4&&c.setLimit(this.$4);this.$5&&c.setPreprocessHandler(this.$22.bind(this));return c};c.$26=function(a,b,c){c=c.getFile();a=a.indexOf(c);return b[a]};c.$24=function(a,b){if(a.upload)return a.upload.getFile().uploadID;else return b.uploadID};c.$23=function(a,c){var d=this;b("promiseDone")(function(){return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(d.$27(a,c));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},null,this)}())};c.$27=function(a,c){var d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:d=a.getFile();f.next=3;return b("regeneratorRuntime").awrap(this.$28(d));case 3:e=f.sent,e&&e.isSpherical()?this.$14(d,e.isSpherical(),e.getProjectionType()):this.$14(d,!1,""),c(a);case 6:case"end":return f.stop()}},null,this)};c.$22=function(a,c){var d=this;b("promiseDone")(function(){return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(d.$29(a,c));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},null,this)}())};c.$28=function(a){__p&&__p();var c,d;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:c=(g||(g=b("performanceNow")))();e.prev=1;e.next=4;return b("regeneratorRuntime").awrap(b("SphericalImage").createFromBlob(a));case 4:d=e.sent;this.$13(a,(g||(g=b("performanceNow")))()-c,d);return e.abrupt("return",d);case 9:e.prev=9;e.t0=e["catch"](1);this.$12(a,(g||(g=b("performanceNow")))()-c);return e.abrupt("return",null);case 14:case"end":return e.stop()}},null,this,[[1,9]])};c.$30=function(a){return this.$31(this.$5.resizeBlob.bind(this.$5),a)};c.$32=function(a,c){c===void 0&&(c=b("SphericalPhotoTypedConfig").upload_size_limit);return this.$31(this.$5.resize360Blob.bind(this.$5),a,c)};c.$33=function(a){return new(b("Promise"))(function(b,c){var d=new Image();d.onload=function(){b({width:d.width,height:d.height})};d.onerror=function(a){c(a)};d.src=j.createObjectURL(a)})};c.$31=function(a,c,d){var e=this,f=b("curry")(this.$11,c.uploadID),g=b("curry")(this.$8,c),h=function(){return e.$33(c).then(g)};return new(b("Promise"))(function(b,e){h(),a(c,function(a,c,d,f,g,h,i){a?e(a):d?b({originalWidth:f,originalHeight:g}):b({blob:c,originalWidth:f,originalHeight:g,outputWidth:h,outputHeight:i})},f,d)})};c.$29=function(a,c){__p&&__p();var d,e,f,j,k,l,m,n,o,p,q,r;return b("regeneratorRuntime").async(function(s){__p&&__p();while(1)switch(s.prev=s.next){case 0:d=a.getFile();if(!(!d||!b("PhotosMimeType").isJpeg(d.type))){s.next=6;break}this.$14(d,!1,"");d&&b("promiseDone")(this.$33(d).then(function(b){a.getAdditionalData().set("js_resized",!1).set("original_file_size",d.size).set("original_width",b==null?void 0:b.width).set("original_height",b==null?void 0:b.height).set("upload_width",b==null?void 0:b.width).set("upload_height",b==null?void 0:b.height)},b("emptyFunction")));c(a);return s.abrupt("return");case 6:e=(g||(g=b("performanceNow")))();s.prev=7;k=null;s.next=11;return b("regeneratorRuntime").awrap(this.$28(d));case 11:k=s.sent;if(!(k&&k.isSpherical())){s.next=32;break}this.$14(d,!0,k.getProjectionType());l=k.getSize();m=b("SphericalPhotoTypedConfig").upload_size_limit;n=k.getProjectionType();o=!1;o=h(n,k.getBufferLength(),b("SphericalPhotoTypedConfig").upload_bytes_limit);p=i(n,l,m);if(!(l&&(p||o))){s.next=30;break}if(p){s.next=27;break}s.next=24;return b("regeneratorRuntime").awrap(this.$32(d,Math.max(l.x,l.y)-1));case 24:f=s.sent;s.next=30;break;case 27:s.next=29;return b("regeneratorRuntime").awrap(this.$32(d));case 29:f=s.sent;case 30:s.next=36;break;case 32:this.$14(d,!1,"");s.next=35;return b("regeneratorRuntime").awrap(this.$30(d));case 35:f=s.sent;case 36:f&&(f.blob!=null&&(j=f.blob,j.uploadID=d.uploadID,j.name=d.name,a.setFile(j)),a.getAdditionalData().set("js_resized",!0).set("original_file_size",d.size).set("original_width",f.originalWidth).set("original_height",f.originalHeight).set("upload_width",f.outputWidth).set("upload_height",f.outputHeight));q=j===null;a.getFile().filename=d.name;this.$9(d,j||d,q,(g||(g=b("performanceNow")))()-e,a.getAdditionalData().get("original_width"),a.getAdditionalData().get("original_height"),a.getAdditionalData().get("upload_width"),a.getAdditionalData().get("upload_height"));s.next=47;break;case 42:s.prev=42,s.t0=s["catch"](7),r=(g||(g=b("performanceNow")))()-e,this.$10(d,j||d,s.t0,r);case 47:c(a);case 48:case"end":return s.stop()}},null,this,[[7,42]])};c.$21=function(a){return!!a.files&&b("AsyncUploadRequest").isSupported()};return a}();e.exports=c}),null);
__d("ReactComposerPhotoThumbnail.react",["Image.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){if(a.bgURL){var c={backgroundImage:"url("+a.bgURL+")"};return b("React").jsx("div",{className:a.bgClassName,style:c})}else if(a.imgSrc)return b("React").jsx(b("Image.react"),{alt:a.alt,className:a.imgClassName,src:a.imgSrc,style:a.style,width:a.width,height:a.height});return null};e.exports=a}),null);