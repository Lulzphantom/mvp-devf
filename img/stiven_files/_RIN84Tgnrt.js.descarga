if (self.CavalryLogger) { CavalryLogger.start_js(["0NdfM"]); }

__d("StoriesPollStickerMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"VoteStoryCardPollData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"vote_story_card_poll",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"VoteStoryCardPollResponsePayload",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"client_mutation_id",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"story_card_poll",storageKey:null,args:null,concreteType:"StoryCardPoll",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_vote",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"poll_options",storageKey:null,args:null,concreteType:"StoryCardPollOption",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"index",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"vote_count",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"viewer_vote_index",args:null,storageKey:null}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"StoriesPollStickerMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"StoriesPollStickerMutation",argumentDefinitions:a,selections:b},params:{operationKind:"mutation",name:"StoriesPollStickerMutation",id:"2241322555930366",text:null,metadata:{}}}}();e.exports=a}),null);
__d("StoriesPollSticker_overlay.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"StoriesPollSticker_overlay",type:"StoryOverlayPollSticker",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"style",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"voting_control_bounds",storageKey:null,args:null,concreteType:"StoryOverlayRectangle",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"FragmentSpread",name:"StoriesCardOverlayPositioner_bounds",args:null}]},{kind:"LinkedField",alias:null,name:"poll",storageKey:null,args:null,concreteType:"StoryCardPoll",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"can_viewer_vote",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewer_vote_index",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"poll_options",storageKey:null,args:null,concreteType:"StoryCardPollOption",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"vote_count",args:null,storageKey:null}]}]}]};e.exports=a}),null);
__d("StoriesPollSticker_owner.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"StoriesPollSticker_owner",type:"CameraPostBucketOwnerUnion",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]};e.exports=a}),null);
__d("StoriesPollSticker_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"StoriesPollSticker_story",type:"Story",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"via",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]};e.exports=a}),null);
__d("StoriesReactionStickerMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"ReactStoryCardReactionStickerData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"react_story_card_reaction_sticker",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"ReactStoryCardReactionStickerResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"story_card_reaction_sticker",storageKey:null,args:null,concreteType:"StoryCardReactionSticker",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"StoriesReactionStickerMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"StoriesReactionStickerMutation",argumentDefinitions:a,selections:b},params:{operationKind:"mutation",name:"StoriesReactionStickerMutation",id:"2107432889344441",text:null,metadata:{}}}}();e.exports=a}),null);
__d("StoriesReactionSticker_overlay.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"StoriesReactionSticker_overlay",type:"StoryOverlayReactionSticker",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"reaction_sticker",storageKey:null,args:null,concreteType:"StoryCardReactionSticker",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"bounds",storageKey:null,args:null,concreteType:"StoryOverlayRectangle",plural:!1,selections:[{kind:"FragmentSpread",name:"StoriesCardOverlayPositioner_bounds",args:null}]},{kind:"FragmentSpread",name:"ReactionStickerKeyframe_overlay",args:null}]};e.exports=a}),null);
__d("ReactionStickerKeyframe_overlay.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"x",args:null,storageKey:null},b={kind:"ScalarField",alias:null,name:"y",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null};return{kind:"Fragment",name:"ReactionStickerKeyframe_overlay",type:"StoryOverlayReactionSticker",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"reaction_sticker",storageKey:null,args:null,concreteType:"StoryCardReactionSticker",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"sticker_asset",storageKey:null,args:null,concreteType:"InspirationsStickerImageAsset",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"sticker_animation_assets",storageKey:null,args:null,concreteType:"InspirationsStickerAnimationAssetWithType",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"asset",storageKey:null,args:null,concreteType:"InspirationsStickerAnimationAsset",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"keyframe_uri",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"initial_state_bounds",storageKey:null,args:null,concreteType:"StoryOverlayRectangle",plural:!1,selections:[a,b,c,d]}]}]}]}]},{kind:"LinkedField",alias:null,name:"bounds",storageKey:null,args:null,concreteType:"StoryOverlayRectangle",plural:!1,selections:[d,a,b,c]}]}}();e.exports=a}),null);
__d("CometFocusTableContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext({FocusCell:null,FocusRow:null,FocusTable:null});e.exports=a}),null);
__d("TetraButtonGroup.react",["CometFocusTableContext","React","TetraButton.react","TetraRow.react","TetraRowItem.react","stylex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("React").useContext,i={hiddenButton:{height:"do00u71z",visibility:"kr9hpln1"},resetFlexBasis:{flexBasis:"mg4g778l"}};function j(a){var c=h(b("CometFocusTableContext"));c=c.FocusCell;a=a.children;return c!=null?b("React").jsx(c,{children:b("React").jsx("div",{role:"gridcell",children:a})}):a}function a(a){__p&&__p();var c=a.align,d=c===void 0?"justify":c;c=a.direction;c=c===void 0?"forward":c;var e=a.paddingHorizontal,f=a.paddingTop,h=a.primary,k=a.secondary,l=a.size,m=a.wrap;m=m===void 0?"none":m;var n=[],o=[],p=h.testid;h=babelHelpers.objectWithoutPropertiesLoose(h,["testid"]);p=b("React").jsx(j,{children:b("React").jsx(b("TetraButton.react"),babelHelpers["extends"]({},h,{size:l,testid:p}))});n.push({hidden:b("React").jsx(b("TetraButton.react"),babelHelpers["extends"]({},h,{disabled:!0,padding:"normal",size:l})),visible:p});if(k!=null){h=k.testid;k=babelHelpers.objectWithoutPropertiesLoose(k,["testid"]);n.push({hidden:b("React").jsx(b("TetraButton.react"),babelHelpers["extends"]({},k,{disabled:!0,padding:"normal",size:l,type:"secondary"})),visible:b("React").jsx(j,{children:b("React").jsx(b("TetraButton.react"),babelHelpers["extends"]({},k,{size:l,testid:h,type:"secondary"}))})})}else if(a.secondaryIcon!=null)o.push(b("React").jsx(b("TetraRowItem.react"),{children:b("React").jsx(j,{children:b("React").jsx(b("TetraButton.react"),babelHelpers["extends"]({},a.secondaryIcon,{labelIsHidden:!0,size:l,type:"secondary"}))})},"secondary-icon"));else if(a.secondaryIconGroup!=null){k=a.secondaryIconGroup;h=k.primaryIcon;a=k.secondaryIcon;o.push((k=b("React")).jsx(b("TetraRowItem.react"),{children:k.jsx(j,{children:k.jsx(b("TetraButton.react"),babelHelpers["extends"]({},h,{labelIsHidden:!0,size:l,type:"secondary"}))})},"secondary-icon-1"),k.jsx(b("TetraRowItem.react"),{children:k.jsx(j,{children:k.jsx(b("TetraButton.react"),babelHelpers["extends"]({},a,{labelIsHidden:!0,size:l,type:"secondary"}))})},"secondary-icon-2"))}h=n.map(function(a,c){return b("React").jsx(b("TetraRowItem.react"),{expanding:d==="justify",xstyle:i.resetFlexBasis,children:n.map(function(a,d){return b("React").jsx(b("React").Fragment,{children:c!==d?b("React").jsx("div",{"aria-hidden":!0,className:(g||(g=b("stylex")))(i.hiddenButton),children:a.hidden}):a.visible},d)})},c)});k=[b("React").jsx(b("TetraRowItem.react"),{expanding:d==="justify",xstyle:i.resetFlexBasis,children:p},"primary")].concat(o);a=n.length===2;return b("React").jsx(b("TetraRow.react"),{align:d,direction:c,paddingHorizontal:e,paddingTop:f,spacing:8,wrap:m,children:a?h:k})}e.exports=a}),null);
__d("CometConfirmationDialogImpl.react",["fbt","CometCardedDialog.react","CometTrackingNodeProvider.react","React","TetraButtonGroup.react","TetraText.react","stylex"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("React").useCallback;function a(a){var c=a.body,d=a.cancel,e=a.confirm,f=a.disabled;f=f===void 0?!1:f;var i=a.onClose;a=a.title;var j=h(function(){i(!0)},[i]),k=h(function(){i(!1)},[i]);return b("React").jsx(b("CometTrackingNodeProvider.react"),{trackingNode:163,children:b("React").jsxs(b("CometCardedDialog.react"),{onClose:k,testid:"CometConfirmationDialogImpl",title:a,titleHorizontalAlignment:"start",withCloseButton:!0,children:[b("React").jsx("div",{className:"l9j0dhe7 dati1w0a f10w8fjw hv4rvrfc pybr56ya",children:b("React").jsx(b("TetraText.react"),{type:"body3",children:c})}),b("React").jsx("div",{className:"a8nywdso ihqw7lf3 rz4wbd8a jb3vyjys bkfpd7mw btwxx1t3 j83agx80",children:b("React").jsx(b("TetraButtonGroup.react"),{direction:"backward",primary:{disabled:f,label:(a=e)!=null?a:g._("Confirmar"),onPress:j,testid:"CometConfirmationDialogConfirmButton"},secondary:{disabled:f,label:(c=d)!=null?c:g._("Cancelar"),onPress:k,reduceEmphasis:!0,testid:"CometConfirmationDialogCancelButton"}})})]})})}e.exports=a}),null);
__d("StoriesDefaultBucketListWrapper.react",["requireCond","cr:1187815","React"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.children,d=a.initialBucketID;a=a.viewerSessionID;return b("React").jsx(b("cr:1187815"),{initialBucketID:d,viewerSessionID:a,children:c})}e.exports=a}),null);
__d("StoriesViewerSuspense.react",["fbt","requireCond","CometErrorBoundary.react","CometPlaceholder.react","CometStyleXSheet","QuickPerformanceLogger","React","cr:989159","StoriesBucketError.react","StoriesCenterPaneErrorBoundary.react","StoriesDefaultBucketListWrapper.react","StoriesEnums","StoriesGating","StoriesImagePrefetchingContext","StoriesLoggerSession","StoriesQueryArgumentsContext","StoriesResizeToView.react","StoriesRootError.react","StoriesSetBucketHelper","StoriesSuspenseBucketDataContext","StoriesSuspenseBucketTransitioningContext","StoriesSuspenseContentPanePlaceholder.react","StoriesSuspenseContentPaneRoot.react","StoriesSuspenseNavigationPaneHelpers","StoriesSuspenseViewerKeyboardListener.react","StoriesUtils","StoriesViewerSuspenseEventEmitterContext","WebFunnelLogger","cometTestID","gkx","storiesViewerSuspenseEmitter","stylex","useCometWindowSize","useStable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();c=b("CometStyleXSheet").rootStyleSheet;var h=b("React").useEffect,i=b("React").useMemo,j=b("React").useState,k=b("StoriesEnums").NAV_DIRECTIONS;c.injectTheme();function a(a){__p&&__p();var c=b("useStable")(function(){return b("storiesViewerSuspenseEmitter")()}),d=a.bucketID,e=a.cardID,f=a.openSource,l=a.traySessionID,m=a.viewerSessionID;a=j(!1);var n=a[0],o=a[1];a=j(b("StoriesSetBucketHelper").defaultBucketData(d));var p=a[0],q=a[1];a=j(k.NEXT_BUCKET);var r=a[0],s=a[1];h(function(){var a;new(b("WebFunnelLogger"))("FBStoriesWebSuspenseViewerFunnelDefinition").setSessionKey((a=m)!=null?a:"null").setAction("Viewer Mounted").log();b("QuickPerformanceLogger").markerPoint(13238353,"viewer mounted");b("StoriesLoggerSession").initialize(l,m,f);b("cr:989159")!=null&&b("gkx")("1212841")&&b("cr:989159").openOverlayView("stories_viewer");return function(){b("cr:989159")!=null&&b("gkx")("1212841")&&b("cr:989159").closeOverlayView("stories_viewer")}},[f,l,m]);var t=p.bucketID;a=p.bucketIndex;var u=t==="",v=b("useCometWindowSize")(),w=i(function(){function a(a){b("StoriesSetBucketHelper").updateBucketData(q,o,p,a)}return{bucketData:p,bucketNavDirection:r,setBucketData:a,setNavigationDirection:s}},[p,r,o]),x=i(function(){return{isBucketTransitionInProgress:n,setIsBucketTransitionInProgress:o}},[n,o]),y=i(function(){return{hideSelfBucket:!1,initialBucketID:d,initialBucketsCount:b("StoriesSuspenseNavigationPaneHelpers").getInitialBucketsCount(),pageBucketsCount:b("StoriesSuspenseNavigationPaneHelpers").getPageBucketsCount()}},[d]),z=b("StoriesGating").shouldPreloadPhotoUri(),A=b("StoriesGating").shouldPreloadPhotoUriWithBucketPrefetching(),B=i(function(){return{shouldPrefetchPhotoUri:z,shouldPrefetchPhotoUriWithBucketPrefetching:A}},[z,A]);if(b("StoriesUtils").shouldResizeToViewStories(v.innerHeight))return b("React").jsx(b("CometErrorBoundary.react"),{fallback:function(a){return b("React").jsx(b("StoriesRootError.react"),{error:a})},children:b("React").jsx(b("StoriesResizeToView.react"),{})});v=b("StoriesGating").shouldSuspendBothQueries();e=b("React").jsx(b("StoriesSuspenseContentPaneRoot.react"),{bucketID:t,initialBucketID:d,initialCardID:e,viewerSessionID:m});e=v?e:b("React").jsx(b("CometPlaceholder.react"),{fallback:b("React").jsx(b("StoriesSuspenseContentPanePlaceholder.react"),{isNullState:u}),children:e});B=b("React").jsx("div",babelHelpers["extends"]({className:"k4urcfbm j83agx80"},b("cometTestID")("viewer_dialog"),{id:"viewer_dialog",children:b("React").jsx(b("StoriesImagePrefetchingContext").Provider,{value:B,children:b("React").jsxs(b("StoriesSuspenseViewerKeyboardListener.react"),{children:[b("React").jsx(b("StoriesDefaultBucketListWrapper.react"),{initialBucketID:d,viewerSessionID:m,children:b("React").jsx(b("StoriesCenterPaneErrorBoundary.react"),{bucketIndex:a,fallback:function(a){return b("React").jsx(b("StoriesBucketError.react"),{bucketID:t,cardID:"",error:a})},children:e})}),b("gkx")("678680")&&b("React").jsx("div",{className:"fwizqjfa j9ispegn pmk7jnqg cyypbtt7 g7xisrfe ljqsnud1 i09qtzwb v0lkmu4y",children:g._("SV")})]})})}));a=v?b("React").jsx(b("CometPlaceholder.react"),{fallback:b("React").jsx(b("StoriesSuspenseContentPanePlaceholder.react"),{isNullState:u}),children:B}):B;return b("React").jsx(b("CometErrorBoundary.react"),{fallback:function(a){return b("React").jsx(b("StoriesRootError.react"),{error:a})},children:b("React").jsx(b("StoriesQueryArgumentsContext").Provider,{value:y,children:b("React").jsx(b("StoriesViewerSuspenseEventEmitterContext").Provider,{value:c,children:b("React").jsx(b("StoriesSuspenseBucketTransitioningContext").Provider,{value:x,children:b("React").jsx(b("StoriesSuspenseBucketDataContext").Provider,{value:w,children:a})})})})})}e.exports=a}),null);
__d("StoriesViewerSuspenseRoot.react",["CometBlueBridge.react","CometErrorBoundary.react","React","StoriesConstants","StoriesRootError.react","StoriesViewerBucketListFetchPolicyContext","StoriesViewerOpenAnimationContextProvider.react","StoriesViewerSuspense.react","stylex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useMemo,h=b("StoriesConstants").RELAY_FETCH_POLICY;function a(a){var c,d=a.bucketListFetchPolicy;a.tilePosition;var e=babelHelpers.objectWithoutPropertiesLoose(a,["bucketListFetchPolicy","tilePosition"]),f=g(function(){var a;return{fetchPolicy:(a=d)!=null?a:h.STORE_OR_NETWORK}},[d]);return(c=b("React")).jsx(b("CometErrorBoundary.react"),{fallback:function(a){return b("React").jsx(b("StoriesRootError.react"),{error:a})},children:c.jsx(b("CometBlueBridge.react"),{children:c.jsx(b("StoriesViewerOpenAnimationContextProvider.react"),{tilePosition:a.tilePosition,children:c.jsx(b("StoriesViewerBucketListFetchPolicyContext").Provider,{value:f,children:c.jsx("div",{className:"t38bcc6f j9ispegn poy2od1o g5gj957u buofh1pr rj1gh0hx n7fi1qx3 j83agx80 i09qtzwb",children:c.jsx(b("StoriesViewerSuspense.react"),babelHelpers["extends"]({},e))})})})})})}e.exports=a}),null);
__d("StoriesPollStickerOptionLabel.react",["cx","Autosize.react","React","StoriesEnums","range","stylex"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("StoriesEnums").POLL_STICKER;function a(a){__p&&__p();var c=a.overlayHeight,d=a.overlayWidth,e=a.voteCountPercent,f=e!==void 0&&e!==null,g=.5;typeof e==="number"&&(g=e/100);e=function(){var b=a.overlayWidth*h.AVAILABLE_WIDTH_RATIO;b=Math.floor(b*g*h.VOTE_OPTION_MAX_WIDTH_RATIO);var d=Math.floor(f?h.TEXT_SMALL_HEIGHT_RATIO*c:h.TEXT_BIG_HEIGHT_RATIO*c);return{height:d,width:b}};var i=function(){var b={color:a.isSelected&&a.isOverflowedOption?h.TEXT_COLOR_GREY:h.BACKGROUND_COLOR_BLUE,height:"auto",width:l},c=f?{lineHeight:1}:{};return babelHelpers["extends"]({},b,c)};e=e();var j=h.VOTE_OPTION_MAX_WIDTH_RATIO*100,k="oqcyycmt po0baly6 jm1wdb64 aenfhxwr taijpn5t g5gj957u buofh1pr cbu4d94t rj1gh0hx j83agx80 rq0escxv"+(a.isSelected?" igj13h7g":""),l=a.isOverflowLayout?h.DEFAULT_OPTION_WIDTH_RATIO*d*h.VOTE_OPTION_MAX_WIDTH_RATIO:e.width,m={};i=i();a.isOverflowLayout?(m.maxWidth=l,i.width="auto"):m.maxWidth=j+"%";j=f&&g<=.5?1:0;j={color:h.TEXT_COLOR_GREY,fontSize:d*h.VOTE_COUNT_FONT_SIZE_RATIO,width:i.width,zIndex:j};var n=f?h.TEXT_SMALL_MIN_FONT_SIZE_RATIO*d:h.TEXT_BIG_MIN_FONT_SIZE_RATIO*d;d=f?h.TEXT_SMALL_MAX_FONT_SIZE_RATIO*d:h.TEXT_BIG_MAX_FONT_SIZE_RATIO*d;a.isSelected&&a.isOverflowedOption?i=babelHelpers["extends"]({},i,{color:h.TEXT_COLOR_GREY}):a.isSelected&&a.isResultView&&(j.color="white",i=babelHelpers["extends"]({},i,{color:"white"}));a.isInstagramStyle&&(j.color=h.TEXT_COLOR_GREY,i.color=a.isLeftOption?h.IG_LEFT_TEXT_COLOR:h.IG_RIGHT_TEXT_COLOR);return b("React").jsxs("div",{className:k,style:m,children:[b("React").jsx("div",{className:"_66l8",style:babelHelpers["extends"]({},i,{textAlign:a.align}),children:b("React").jsx(b("Autosize.react"),{height:e.height,sizes:b("range")(n,d+1,2),width:l,children:a.text.toUpperCase()})}),f&&b("React").jsx("div",{className:"_66l8",style:babelHelpers["extends"]({},j,{textAlign:a.align}),children:(a.voteCountPercent||0)+"%"})]})}e.exports=a}),null);
__d("StoriesPollStickerOption.react",["CometPressable.react","React","ReactMotion","StoriesEnums","StoriesPollStickerOptionLabel.react","stylex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("ReactMotion").Motion,i=b("ReactMotion").presets,j=b("ReactMotion").spring,k=b("StoriesEnums").POLL_STICKER,l=b("StoriesEnums").VOTING_PHASES;function a(a){__p&&__p();var c=a.isLeftOption,d=a.overlayHeight,e=a.overlayWidth,f=a.width,n=m(a);if(a.votingPhase===l.VOTING)return b("React").jsx("div",{className:"k4urcfbm abiwlrkh oqq733wu a8nywdso qt6c0cv9 rz4wbd8a jb3vyjys n5yhfkqm taijpn5t datstx6m j83agx80 nhd2j8a9 mkbloq8g bp9cbjyn"+(c?" h3mn19vb":"")+" hdj6kjfu mo3u6lec",style:babelHelpers["extends"]({},n,{width:k.DEFAULT_OPTION_WIDTH_RATIO*f}),children:b("React").jsx(b("CometPressable.react"),{display:"inline",onPress:a.onSelect,overlayDisabled:!0,children:b("React").jsx(b("StoriesPollStickerOptionLabel.react"),{align:n.textAlign,isInstagramStyle:a.isInstagramStyle,isLeftOption:a.isLeftOption,isOverflowLayout:a.isOverflowLayout,isOverflowedOption:a.isOverflowedOption,isResultView:!a.isConsumer,isSelected:a.isSelected,overlayHeight:d,overlayWidth:e,text:a.text||"",voteCountPercent:a.voteCountPercent})})});if(a.votingPhase===l.RESULTS)return b("React").jsx("div",{className:(g||(g=b("stylex"))).dedupe({"align-items-1":"bp9cbjyn","background-color-1":"mkbloq8g","cursor-1":"nhd2j8a9","display-1":"j83agx80","height-1":"datstx6m","justify-content-1":"taijpn5t","min-width-1":"n5yhfkqm","padding-top-1":"jb3vyjys","padding-end-1":"rz4wbd8a","padding-bottom-1":"qt6c0cv9","padding-start-1":"a8nywdso","pointer-events-1":"oqq733wu","user-select-1":"abiwlrkh","width-1":"k4urcfbm"},c?{"border-end-0.3":"h3mn19vb"}:null,{"align-items-1":"bp9cbjyn","border-end-0.3":"bn081pho","cursor-1":"bnpdmtie","display-1":"j83agx80","flex-direction-1":"cbu4d94t","justify-content-1":"taijpn5t","pointer-events-1":"hzruof5a"},a.isSelected&&a.isConsumer?{"background-color-1":"j0apdczp"}:null,a.isSelected&&!a.isConsumer?{"background-image-1":"ceizbtlg"}:null),style:babelHelpers["extends"]({},n,{width:f}),children:b("React").jsx(b("StoriesPollStickerOptionLabel.react"),{align:n.textAlign,isInstagramStyle:a.isInstagramStyle,isLeftOption:a.isLeftOption,isOverflowLayout:a.isOverflowLayout,isOverflowedOption:a.isOverflowedOption,isResultView:!a.isConsumer,isSelected:a.isSelected,overlayHeight:d,overlayWidth:e,text:a.text||"",voteCountPercent:a.voteCountPercent})});var o=c&&a.isSelected||!c&&!a.isSelected;o=o?0:e;f=c?f:Math.abs(f-e);o=Math.floor(c?o:Math.abs(e-o));f=Math.floor(c?f:Math.abs(e-f));return b("React").jsx(h,{defaultStyle:{width:o},style:{width:j(f,babelHelpers["extends"]({},i.noWobble))},children:function(f){return b("React").jsx("div",{className:(g||(g=b("stylex"))).dedupe({"align-items-1":"bp9cbjyn","background-color-1":"mkbloq8g","cursor-1":"nhd2j8a9","display-1":"j83agx80","height-1":"datstx6m","justify-content-1":"taijpn5t","min-width-1":"n5yhfkqm","padding-top-1":"jb3vyjys","padding-end-1":"rz4wbd8a","padding-bottom-1":"qt6c0cv9","padding-start-1":"a8nywdso","pointer-events-1":"oqq733wu","user-select-1":"abiwlrkh","width-1":"k4urcfbm"},c?{"border-end-0.3":"h3mn19vb"}:null,{"align-items-1":"bp9cbjyn","border-end-0.3":"bn081pho","cursor-1":"bnpdmtie","display-1":"j83agx80","flex-direction-1":"cbu4d94t","justify-content-1":"taijpn5t","pointer-events-1":"hzruof5a"},a.isSelected?{"background-color-1":"j0apdczp"}:null),style:babelHelpers["extends"]({},f,n),children:b("React").jsx(b("StoriesPollStickerOptionLabel.react"),{align:n.textAlign,isInstagramStyle:a.isInstagramStyle,isLeftOption:a.isLeftOption,isOverflowLayout:a.isOverflowLayout,isOverflowedOption:a.isOverflowedOption,isResultView:!1,isSelected:a.isSelected,overlayHeight:d,overlayWidth:e,text:a.text||"",voteCountPercent:a.voteCountPercent})})}})}var m=function(a){__p&&__p();var b={textAlign:"center"};a.isSelected&&a.votingPhase===l.RESULTS&&a.isInstagramStyle&&(b=babelHelpers["extends"]({},b,{background:k.BACOGROUND_COLOR_SLATE}));if(a.optionsCount===1)return babelHelpers["extends"]({},b,{borderEnd:"0px"});var c=a.isLeftOption?"Left":"Right",d=a.isLeftOption?"left":"right",e=a.isLeftOption?"flex-start":"flex-end";c="padding"+c;if(a.isOverflowLayout){b=babelHelpers["extends"]({},b,(e={alignItems:e},e[c]=k.OVERFLOW_CHILD_PADDING_RATIO*a.overlayWidth+"px",e))}else if(!a.isInstagramStyle){b=babelHelpers["extends"]({},b,(e={},e[c]=k.CHILD_PADDING_RATIO*a.overlayWidth+"px",e))}a.isOverflowedOption&&(b.textAlign=d);return b};e.exports=a}),null);
__d("StoriesPollSticker.react",["React","StoriesActorContext","StoriesCardOverlayPositioner.react","StoriesEnums","StoriesPauseReasons","StoriesPollStickerOption.react","StoriesRelay","stylex","uuid","StoriesPollStickerMutation.graphql","StoriesPollSticker_overlay.graphql","StoriesPollSticker_owner.graphql","StoriesPollSticker_story.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i,j,k,l=b("React").useContext,m=b("React").useState,n=b("StoriesEnums").POLL_STICKER,o=b("StoriesEnums").VOTING_PHASES,p=(c=b("StoriesRelay")).commitMutation;d=c.createFragmentContainer;c.graphql;var q=c.useRelayEnvironment;function a(a){__p&&__p();var c,d=q(),e=m(!1),f=e[0],g=e[1];e=l(b("StoriesActorContext"));var h=e.actorID;e=a.containerHeight;var i=a.containerWidth,j=a.overlay,p=j==null?void 0:j.poll,u=j==null?void 0:j.style,w=u===n.IG_TWO_OPTION_COMBINED;u=j==null?void 0:(u=j.voting_control_bounds)==null?void 0:u.width;c=j==null?void 0:(c=j.voting_control_bounds)==null?void 0:c.height;if(typeof u!=="number"||typeof c!=="number")return null;var x=u*i,y=c*e,z=function(b){var c=p==null?void 0:p.can_viewer_vote;if(c===!1)return;g(!0);c={optionIndex:b,storyID:a.cardID};v(c,d,a)},A=function(){__p&&__p();var b=(p==null?void 0:p.poll_options)||[],c=p==null?void 0:p.viewer_vote_index,d=p==null?void 0:p.can_viewer_vote,e=b.reduce(function(a,b){return a+(b.vote_count||0)},0),g=s(b),i=c!=null&&c>=0,j=!r(a,h);d=j?!i&&d:e===0;var k=!f&&!d,l=f&&!d,m=0,n=[],q=t(a);b.forEach(function(a,d){__p&&__p();var h=a.text;a=a.vote_count;var p=d===c||q;if(typeof a!=="number")return;if((k||l)&&a===0)return;var r=void 0;u=x;var s=o.VOTING,t=!1;if(k||l){k?s=o.RESULTS:l&&(s=o.JUST_VOTED);var v=!j&&!i&&g===d;t=p||v;if(d===b.length-1)r=100-m;else{p=a/e;r=p*100;v=Math.round(r)!==r;a=r<.1;p=v?r.toFixed(a?1:0):r;r=parseFloat(p);m+=r}u=x*(r/100)}n.push({animateIn:f,isConsumer:j,isSelected:t,key:d,onSelect:function(){return z(d)},text:h,voteCountPercent:r,votingPhase:s,width:u})});return n};c=function(){a.setPause(!0,b("StoriesPauseReasons").MOUSE_ENTER_POLL_STICKER)};var B=function(){a.setPause(!1,b("StoriesPauseReasons").MOUSE_ENTER_POLL_STICKER)},C=function(){var a=A(),c=a.findIndex(function(a){return a.width<=n.MINIMUM_LABEL_WIDTH_RATIO*x});return a.map(function(d,e){return b("React").jsx(b("StoriesPollStickerOption.react"),babelHelpers["extends"]({},d,{isInstagramStyle:w,isLeftOption:e===0,isOverflowLayout:c>=0,isOverflowedOption:c===e,optionsCount:a.length,overlayHeight:y,overlayWidth:x}))})};C=C();return b("React").jsx(b("StoriesCardOverlayPositioner.react"),{bounds:j==null?void 0:j.voting_control_bounds,containerHeight:e,containerWidth:i,children:b("React").jsx("div",{className:(k||(k=b("stylex"))).dedupe({"align-items-1":"gs1a9yip","background-color-1":"mkbloq8g","border-top-0.3":"qu0x051f","border-end-0.3":"esr5mh6w","border-bottom-0.3":"e9989ue4","border-start-0.3":"r7d6kgcz","bottom-1":"i09qtzwb","box-shadow-1":"nwm2mul6","color-1":"h4pr0btg","display-1":"j83agx80","flex-direction-1":"btwxx1t3","height-1":"datstx6m","justify-content-1":"jifvfom9","overflow-x-1":"ni8dbmo4","overflow-y-1":"stjgntxs","pointer-events-1":"oqq733wu","position-1":"pmk7jnqg","top-1":"kr520xx4","transform-origin-1":"dd2scrzq","width-1":"k4urcfbm"},w?null:{"border-top-start-radius-1":"a4snqeeb","border-top-end-radius-1":"m5mjud78","border-bottom-end-radius-1":"o5016i8p","border-bottom-start-radius-1":"te4y77sl"},w?{"border-top-start-radius-1":"fni8adji","border-top-end-radius-1":"hgaippwi","border-bottom-end-radius-1":"fykbt5ly","border-bottom-start-radius-1":"ns4ygwem"}:null),onMouseEnter:c,onMouseLeave:B,children:C})})}var r=function(a,b){var c=a.owner;if(c==null)return!1;b=b;a=(a=a.story)==null?void 0:(a=a.via)==null?void 0:a.id;return c.id===b||a===b},s=function(a){return a.reduce(function(b,c,d){c=c==null?void 0:c.vote_count;var e=a[b].vote_count;return typeof c==="number"&&typeof e==="number"&&e<c?d:b},0)},t=function(a){a=((a=a.overlay)==null?void 0:(a=a.poll)==null?void 0:a.poll_options)||[];return a.filter(function(a){a=a==null?void 0:a.vote_count;return typeof a==="number"&&a>0}).length===1},u=function(a,c){__p&&__p();var d=a.get(c.storyID);d=d&&d.getLinkedRecords("story_overlays")||[];var e=null;d.map(function(a){if(a==null)return;a.getValue("__typename")==="StoryOverlayPollSticker"&&(e=a.getLinkedRecord("poll"))});if(e==null)return;d=c.optionIndex;e.setValue(d,"viewer_vote_index");c=e.getLinkedRecords("poll_options");var f=c.length,g=new Array(f);g[f-d-1]=c[f-d-1];g[d]=a.create("client:newNode:"+b("uuid")(),"StoryCardPollOption");g[d].setValue(c[d].getValue("vote_count")+1,"vote_count");g[d].setValue(c[d].getValue("text"),"text");e.setLinkedRecords(g,"poll_options")},v=function(a,b,c){c=(c=c.overlay)==null?void 0:(c=c.poll)==null?void 0:c.id;if(c===null)return;p(b,{mutation:w,optimisticUpdater:function(b){return u(b,a)},variables:{input:{option:a.optionIndex,story_card_poll_id:c}}})},w=g!==void 0?g:g=b("StoriesPollStickerMutation.graphql");e.exports=d(a,{overlay:h!==void 0?h:h=b("StoriesPollSticker_overlay.graphql"),owner:i!==void 0?i:i=b("StoriesPollSticker_owner.graphql"),story:j!==void 0?j:j=b("StoriesPollSticker_story.graphql")})}),null);
__d("ReactionStickerKeyframe.react",["Keyframes.react","React","StoriesRelay","emptyFunction","stylex","ReactionStickerKeyframe_overlay.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("StoriesRelay").createFragmentContainer;b("StoriesRelay").graphql;function a(a){__p&&__p();var c,d,e=function(f){__p&&__p();var g,h={height:0,key:"",keyframe_uri:"",onRepeatEnd:b("emptyFunction"),repeatCount:1,type:"AFFORDANCE",width:0,x:0,y:0};g=(g=a.overlay)==null?void 0:(g=g.reaction_sticker)==null?void 0:(g=g.sticker_asset)==null?void 0:g.sticker_animation_assets;if(!g)return null;g=(g=g.find(function(a){return f===a.type}))==null?void 0:g.asset;if(!g)return null;g=g;var i=g.initial_state_bounds;g=g.keyframe_uri;if(!i)return null;var c=i.height,d=i.width,e=i.x;i=i.y;if(typeof d!=="number"||typeof c!=="number"||typeof e!=="number"||typeof i!=="number"||typeof g!=="string")return null;h.width=d;h.height=c;h.x=e;h.y=i;h.keyframe_uri=g;h.key=a.uniqueKey;h.type=a.type;f==="TAP"&&(h.repeatCount=1,h.onRepeatEnd=function(){a.tapOnReaptEnd(a.uniqueKey)});f==="AFFORDANCE"&&(h.repeatCount=Infinity,h.onRepeatEnd=b("emptyFunction"));return h};e=e(a.type);if(!e)return null;var f=e.height,g=e.key,h=e.keyframe_uri,i=e.onRepeatEnd,j=e.repeatCount,k=e.width,l=e.x,m=e.y,n=a.containerHeight,o=a.containerWidth,p=a.overlay;c=p==null?void 0:(c=p.bounds)==null?void 0:c.width;d=p==null?void 0:(d=p.bounds)==null?void 0:d.height;if(p==null||typeof c!=="number"||typeof d!=="number")return null;p=c*o;var q=d*n;n=n*d/q;d=o*c/p;o=q/f;c=p/k;q={left:"-"+l*c+"px",position:"absolute",top:"-"+m*o+"px",transform:"scaleY("+n+") scaleX("+d+")"};return b("React").jsx(b("Keyframes.react"),{assetName:"reaction_sticker",className:e.type==="TAP"?"pmk7jnqg hzruof5a":"",height:o,onRepeatEnd:i,projectName:"facebook_stories",repeatCount:j,source:h,style:q,width:c},g)}e.exports=c(a,{overlay:g!==void 0?g:g=b("ReactionStickerKeyframe_overlay.graphql")})}),null);
__d("StoriesReactionSticker.react",["FBLogger","React","ReactionStickerKeyframe.react","StoriesCardOverlayPositioner.react","StoriesEnums","StoriesPauseReasons","StoriesRelay","StoriesUniqueID","stylex","StoriesReactionStickerMutation.graphql","StoriesReactionSticker_overlay.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("React").useRef,j=b("React").useState,k=b("StoriesEnums").STORY_REACTION_STICKERS_CONSTANTS,l=(c=b("StoriesRelay")).commitMutation;c.graphql;var m=c.useRelayEnvironment;d=c.createFragmentContainer;function n(a,b){var c=Date.now();return function(){c+b-Date.now()<0&&(a(),c=Date.now())}}function a(a){__p&&__p();var c=m(),d=j([{key:"",type:"AFFORDANCE"}]),e=d[0],f=d[1],g=i(null),h=i(null),p=i(0);d=n(function(){a.setPause(!0,b("StoriesPauseReasons").CLICK_ON_OVERLAY_STICKER),p.current+=1,u(),s(),g.current=window.setTimeout(function(){r()},k.HOLD_DELAY)},k.ANIMATIONS_INTERVAL_THROTTLE);var q=function(c){f(function(d){d=d.filter(function(a){return a.key!==c});d.length<2&&a.setPause(!1,b("StoriesPauseReasons").CLICK_ON_OVERLAY_STICKER);return d})},r=function a(){p.current+=1,u(),h.current=window.setTimeout(function(){s(),a()},k.ANIMATIONS_INTERVAL_THROTTLE)},s=function(){f(function(a){return[].concat(a,[{key:b("StoriesUniqueID")(),type:"TAP"}])})},t=function(){window.clearTimeout(g.current),window.clearTimeout(h.current)},u=function(){var d;d=(d=a.overlay)==null?void 0:(d=d.reaction_sticker)==null?void 0:d.id;var e=a.logger;if(d===null)return;l(c,{mutation:o,onCompleted:function(a,b){e.replyAttemptCompletedLog("reaction_sticker_react",b==null?null:b[0])},onError:function(a){e.replyAttemptCompletedLog("reaction_sticker_react",a),b("FBLogger")("fbstories").catching(a).warn("Error interacting reaction stickers. ")},variables:{input:{client_mutation_id:b("StoriesUniqueID")(),count:p.current,story_card_reaction_sticker_id:d}}})},v=a.containerHeight,w=a.containerWidth,x=a.overlay,y=x==null?void 0:x.bounds;return y==null?null:b("React").jsx(b("StoriesCardOverlayPositioner.react"),{bounds:y,containerHeight:v,containerWidth:w,children:b("React").jsx("div",{className:"k4urcfbm fi2e5rcv pmk7jnqg oqq733wu datstx6m nhd2j8a9",onMouseDown:d,onMouseLeave:t,onMouseUp:t,children:e.map(function(a,c){return b("React").jsx(b("ReactionStickerKeyframe.react"),{containerHeight:v,containerWidth:w,overlay:x,tapOnReaptEnd:q,type:a.type,uniqueKey:a.key},a.key)})})})}var o=g!==void 0?g:g=b("StoriesReactionStickerMutation.graphql");e.exports=d(a,{overlay:h!==void 0?h:h=b("StoriesReactionSticker_overlay.graphql")})}),null);